window.__require=function t(e,n,o){function i(s,a){if(!n[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var u="function"==typeof __require&&__require;if(!a&&u)return u(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var p=n[s]={exports:{}};e[s][0].call(p.exports,function(t){return i(e[s][1][t]||t)},p,p.exports,t,e,n,o)}return n[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<o.length;s++)i(o[s]);return i}({ActionOnEvent:[function(t,e,n){"use strict";cc._RF.push(e,"9d462iQDttArZcGsBY0v/ab","ActionOnEvent");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Enums/Events"),a=t("../Plugins/Settings"),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.event=s.default.RESULT_SHOW,e.isDeactiveNode=!0,e.isUseAnimation=!1,e.isDependedOnRatio=!1,e.ratioLimit=1.35,e.isUseAnimationBeforeLimit=!1,e.animation=null,e.settings=new a.default,e}return i(e,t),e.prototype.start=function(){cc.systemEvent.on(this.event.toString(),this.onEvent,this),this.animation=this.node.getComponent(cc.Animation)},e.prototype.onEvent=function(){var t=this;this.isDependedOnRatio?(this.settings.SIDE_RATIO>this.ratioLimit?this.isUseAnimation&&this.animation?(this.animation.play(),this.isDeactiveNode&&this.animation.once(cc.Animation.EventType.FINISHED.toString(),function(){t.node.active=!1},this)):this.node.active=!1:this.isUseAnimationBeforeLimit&&this.animation?(this.animation.play(),this.isDeactiveNode&&this.animation.once(cc.Animation.EventType.FINISHED.toString(),function(){t.node.active=!1},this)):this.isDeactiveNode&&(this.node.active=!1),console.log()):this.isUseAnimation&&this.animation?(this.animation.play(),this.isDeactiveNode&&this.animation.once(cc.Animation.EventType.FINISHED.toString(),function(){t.node.active=!1},this)):this.node.active=!1},r([p({type:cc.Enum(s.default)})],e.prototype,"event",void 0),r([p()],e.prototype,"isDeactiveNode",void 0),r([p()],e.prototype,"isUseAnimation",void 0),r([p()],e.prototype,"isDependedOnRatio",void 0),r([p({type:cc.Float,visible:function(){return this.isDependedOnRatio}})],e.prototype,"ratioLimit",void 0),r([p({visible:function(){return this.isDependedOnRatio}})],e.prototype,"isUseAnimationBeforeLimit",void 0),r([u],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../Enums/Events":"Events","../Plugins/Settings":"Settings"}],Analytics:[function(t,e,n){"use strict";cc._RF.push(e,"3be79HVam1C54zu+xOC4eL6","Analytics");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},s=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),i=0;for(e=0;e<n;e++)for(var r=arguments[e],s=0,a=r.length;s<a;s++,i++)o[i]=r[s];return o};Object.defineProperty(n,"__esModule",{value:!0});var a=t("../Enums/Events"),c=t("./Settings"),u=cc._decorator,p=u.ccclass,l=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.trackingID="",e.playableName="",e.isDebug=!1,e.isFinalEventLogEnabled=!1,e.timeToStopSendInactiveEvents=30,e.actionCheckStep=5,e.v="v=1",e.t="t=event",e.tid="",e.cid="",e.ec="",e.el="",e.params="",e.url="https://www.google-analytics.com/collect",e.canSendEvents=!0,e.stackEvents=[],e.ctaEventPool=[],e.timeStart=0,e.utilities=new c.default,e.wasAction=!1,e.actionTime=0,e.wasResult=!1,e.canSendActionEvents=!0,e.canSendInactiveEvents=!0,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.trackingID&&this.playableName?this.isDebug?this.logSuccess("Debug mode enabled"):(this.canSendEvents=window.ANALYTICS_ON,this.canSendEvents?this.logSuccess("Analytics enabled! All events will be sent!"):(this.logError("Cant send events, debug mode enabled. window.ANALYTICS_ON === false"),this.isDebug=!0)):(this.canSendEvents=!1,this.trackingID||this.logError("Fill trackingID"),this.playableName||this.logError("Fill playableName"),this.logError("Cant send events, debug mode enabled"),this.isDebug=!0),this.el="el="+window.AD_NET,this.tid="tid="+this.trackingID,this.cid=Math.floor(1147483647*Math.random()+1e9)+"."+(new Date).getTime(),this.ec="ec="+this.playableName,this.params=this.v+"&"+this.t+"&"+this.tid+"&cid="+this.cid+"&"+this.ec+"&"+this.el,window.onerror=function(e,n,o,i,r){t.handleError(r.name,r.message)},cc.systemEvent.on(a.default.ANALYTICS_SEND_EVENT.toString(),this.setStage,this),cc.systemEvent.on(a.default.PLAYER_ACTION.toString(),this.handleAction,this),cc.systemEvent.on(a.default.CATEGORY_SELECTED.toString(),this.handleCategorySeleceted,this),cc.systemEvent.on(a.default.FIRST_TAP.toString(),this.handleFirstTap,this),cc.systemEvent.on(a.default.REDIRECT.toString(),this.handleRedirect,this),cc.systemEvent.on(a.default.RESULT_SHOW.toString(),this.handleResult,this),this.initialization()},e.prototype.start=function(){var t=this;this.checkAction(),this.scheduleOnce(function(){t.canSendInactiveEvents=!1},this.timeToStopSendInactiveEvents+.5),cc.systemEvent.emit(a.default.ANALYTICS_SEND_EVENT.toString(),"start",{})},e.prototype.handleCategorySeleceted=function(t){this.setStage("category_selected",t?{cd3:t}:{})},e.prototype.initialization=function(){this.timeStart=(new Date).getTime(),this.sendEvent("&ea=initialization&cd1="+this.cid+"&cd2=none&cd3=none&cd4=none")},e.prototype.setStage=function(t,e){if(void 0===t&&(t=null),void 0===e&&(e=null),null!==t&&null!==e){var n,o=null;if(o="&ea="+t,n="start"===t?(new Date).getTime()-this.timeStart:Math.floor(.01*((new Date).getTime()-this.timeStart)),e.cd5=this.utilities.IS_LANDSCAPE?"horizontal":"vertical",e.cm1=n,e instanceof Object)for(var i in e)o+="&"+i+"="+e[i];this.isFinalEventLogEnabled||this.logEvent(t,e),null!==o&&this.sendEvent(o)}},e.prototype.handleError=function(t,e){if(void 0===t&&(t=null),null!==t){var n="&ea=error_"+t;n+="&cm1="+Math.floor(.01*((new Date).getTime()-this.timeStart)),n+=(this.utilities.IS_LANDSCAPE,"horizontal"),n+="&cd6="+e,this.sendEvent(n)}},e.prototype.sendEvent=function(t){var e=this.params;if(e+=t,this.canSendEvents){this.isFinalEventLogEnabled&&this.logEvent(e);var n=new XMLHttpRequest;n.open("POST",this.url,!0),n.send(e)}else this.stackEvents.push(t)},e.prototype.logError=function(t){return console.log("%c[GA CONTROLLER]: %c"+t,"color: DodgerBlue","color: red"),this},e.prototype.logSuccess=function(t){return console.log("%c[GA CONTROLLER]: %c"+t,"color: DodgerBlue","color: green"),this},e.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return console.log.apply(console,s(["%c[GA CONTROLLER]:","color: DodgerBlue"],t)),this},e.prototype.logEvent=function(t,e){e?this.log("EventBody:",t+",",this.getPropsString(e)):this.log("EventBody:",t)},e.prototype.getPropsString=function(t){for(var e="",n=0,o=Object.keys(t);n<o.length;n++){var i=o[n];e+=i+": "+t[i]+", "}return e.slice(0,-2)},e.prototype.handleResult=function(){this.wasResult=!0,this.setStage("result_screen_showed",{})},e.prototype.handleRedirect=function(t){this.wasResult&&(this.canSendActionEvents=!1),this.setStage("redirect",t?{cd4:t}:{})},e.prototype.checkAction=function(){var t=this;this.canSendActionEvents&&(this.actionTime>0&&(this.wasAction?(this.wasAction=!1,this.sendActionEvent()):this.sendInactiveEvent()),this.scheduleOnce(function(){t.actionTime+=t.actionCheckStep,t.checkAction()},this.actionCheckStep))},e.prototype.sendActionEvent=function(){this.canSendActionEvents&&this.canSendInactiveEvents&&this.setStage("action_"+this.actionTime,{})},e.prototype.sendInactiveEvent=function(){this.canSendActionEvents&&this.setStage("inactive_"+this.actionTime,{})},e.prototype.handleAction=function(){this.wasAction=!0},e.prototype.handleFirstTap=function(t){this.setStage("first_tap",t?{cd2:t}:{})},r([l()],e.prototype,"trackingID",void 0),r([l()],e.prototype,"playableName",void 0),r([l()],e.prototype,"isDebug",void 0),r([l()],e.prototype,"isFinalEventLogEnabled",void 0),r([l()],e.prototype,"timeToStopSendInactiveEvents",void 0),r([l()],e.prototype,"actionCheckStep",void 0),r([p],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../Enums/Events":"Events","./Settings":"Settings"}],AnchorComponent:[function(t,e,n){"use strict";cc._RF.push(e,"2e4b2EAAVlLsoUMDz/HMgmf","AnchorComponent");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Base/SimpleTransformComponent"),a=cc._decorator,c=a.ccclass,u=a.property,p=function(){function t(){this.anchor=cc.v2(.5,.5)}return t.prototype.applyTransform=function(t){t.setAnchorPoint(this.anchor)},t.prototype.getData=function(){return{anchor:this.anchor.clone()}},t.prototype.applyData=function(t){this.anchor=t.anchor},r([u(cc.Vec2)],t.prototype,"anchor",void 0),r([c("AnchorConfiguration")],t)}(),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.configuration=null,e}return i(e,t),e.prototype.execute=function(t){this.configuration&&this.configuration.applyTransform(t)},e.prototype.reset=function(t){this.configuration=t?new p:null},r([u({type:p,serializable:!0,visible:function(){return this.isActive}})],e.prototype,"configuration",void 0),r([c("AnchorComponent")],e)}(s.default);n.default=l,cc._RF.pop()},{"../Base/SimpleTransformComponent":"SimpleTransformComponent"}],AnimationSequence:[function(t,e,n){"use strict";cc._RF.push(e,"93716ZSyUFIIqgiMAuokF2y","AnimationSequence");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.AnimationInfo=void 0;var s=cc._decorator,a=s.ccclass,c=s.property,u=function(){function t(){this.path="",this.name="",this.offset=new cc.Vec2}return r([c()],t.prototype,"path",void 0),r([c()],t.prototype,"name",void 0),r([c(cc.Vec2)],t.prototype,"offset",void 0),r([a("AnimationInfo")],t)}();n.AnimationInfo=u;var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.renderer=null,e._fps=20,e.isShowAnimationInfo=!1,e.sequence=[],e.isLoop=!1,e.isPlaying=!1,e.currentTime=0,e.currentFrameNumber=0,e.nextFrameTime=.05,e.callback=null,e}return i(e,t),Object.defineProperty(e.prototype,"fps",{get:function(){return this._fps},set:function(t){this._fps=t,this.nextFrameTime=1/this._fps},enumerable:!1,configurable:!0}),e.prototype.update=function(t){this.isPlaying&&(this.currentTime+=t,this.currentTime>=this.nextFrameTime&&this.nextFrame())},e.prototype.pause=function(){this.isPlaying=!1},e.prototype.play=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=null),e&&(this.callback=e),this.currentFrameNumber=0,this.renderer.spriteFrame=this.sequence[this.currentFrameNumber],this.isLoop=t,this.isPlaying=!0},e.prototype.nextFrame=function(){this.currentFrameNumber+=1,this.currentFrameNumber>=this.sequence.length&&(this.isLoop?this.replay():(this.currentFrameNumber=this.sequence.length-1,this.pause(),this.callback&&this.callback(),this.callback=null)),this.updateFrame(),this.nextFrameTime+=1/this.fps},e.prototype.replay=function(){this.currentFrameNumber=0,this.currentTime=0,this.nextFrameTime=this.currentTime+1/this.fps},e.prototype.updateFrame=function(){this.renderer.spriteFrame=this.sequence[this.currentFrameNumber]},r([c(cc.Sprite)],e.prototype,"renderer",void 0),r([c()],e.prototype,"_fps",void 0),r([c()],e.prototype,"fps",null),r([c(cc.Boolean)],e.prototype,"isShowAnimationInfo",void 0),r([c({type:cc.SpriteFrame,visible:function(){return this.isShowAnimationInfo}})],e.prototype,"sequence",void 0),r([a],e)}(cc.Component);n.default=p,cc._RF.pop()},{}],AudioClipCustom:[function(t,e,n){"use strict";cc._RF.push(e,"22d6b5vD9FKHre8aSpbtWod","AudioClipCustom"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=(o.ccclass,o.property,function(){function t(t,e,n,o){void 0===n&&(n=0),void 0===o&&(o=-1),this.startTime=0,this.finishTime=-1,this.isLoop=!1,this._volume=1,this.clip=t,this.startTime=n,this.finishTime=-1===o?this.clip.duration:o,this._volume=e,cc.director.on(cc.Director.EVENT_BEFORE_UPDATE,this.update,this)}return Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPlaying",{get:function(){return this._isPlaying},set:function(t){this._isPlaying=t},enumerable:!1,configurable:!0}),t.prototype.play=function(t,e){void 0===t&&(t=!1),void 0===e&&(e=0),this.isPlaying||(this.isPlaying=!0,this.isLoop=t,this.startTime=e,this.id=cc.audioEngine.play(this.clip,this.isLoop,this._volume),cc.audioEngine.setCurrentTime(this.id,this.startTime))},t.prototype.stop=function(){this.isPlaying=!1,cc.audioEngine.stop(this.id)},t.prototype.pause=function(){this.isPlaying=!1,cc.audioEngine.pause(this.id)},t.prototype.resume=function(){this.isPlaying=!0,cc.audioEngine.resume(this.id)},t.prototype.setVolume=function(t){this._volume=t,void 0!==this.id&&cc.audioEngine.setVolume(this.id,t)},t.prototype.update=function(){this.isPlaying&&-1!==this.finishTime&&(cc.audioEngine.getState(this.id)===cc.audioEngine.AudioState.STOPPED||cc.audioEngine.getState(this.id)===cc.audioEngine.AudioState.ERROR||cc.audioEngine.getCurrentTime(this._id)>=this.finishTime)&&(-1!==this.finishTime?this.isLoop?cc.audioEngine.setCurrentTime(this._id,this.startTime):this.stop():this.isLoop||(this.isPlaying=!1))},t}());n.default=i,cc._RF.pop()},{}],AudioClipInfo:[function(t,e,n){"use strict";cc._RF.push(e,"fe119rg12FDb7Muz/7ZdDQu","AudioClipInfo");var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./AudioClips"),r=cc._decorator,s=r.ccclass,a=r.property,c=function(){function t(){this.name=i.default.None,this.clip=null,this.volume=1,this.startTime=0,this.finishTime=-1}return o([a({type:cc.Enum(i.default)})],t.prototype,"name",void 0),o([a({type:cc.AudioClip})],t.prototype,"clip",void 0),o([a()],t.prototype,"volume",void 0),o([a()],t.prototype,"startTime",void 0),o([a()],t.prototype,"finishTime",void 0),o([s("AudioClipInfo")],t)}();n.default=c,cc._RF.pop()},{"./AudioClips":"AudioClips"}],AudioClips:[function(t,e,n){"use strict";var o;cc._RF.push(e,"a851dqo/QFBObGjM+SeXHAH","AudioClips"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){t[t.Sound1=0]="Sound1",t[t.Sound2=1]="Sound2",t[t.Sound3=2]="Sound3",t[t.Sound4=3]="Sound4",t[t.Sound5=4]="Sound5",t[t.Sound6=5]="Sound6",t[t.Sound7=6]="Sound7",t[t.Sound8=7]="Sound8",t[t.Sound9=8]="Sound9",t[t.Sound10=9]="Sound10",t[t.Sound11=10]="Sound11",t[t.None=11]="None"}(o||(o={})),n.default=o,cc._RF.pop()},{}],AudioManager:[function(t,e,n){"use strict";cc._RF.push(e,"f6ab9mgr+JObJO8VC5Quom3","AudioManager");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./AudioClipCustom"),a=t("./AudioClipInfo"),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clipsInfo=[],e.map=new Map,e}var n;return i(e,t),n=e,e.getInstance=function(){return n.instance},e.isSoundEnabled=function(){return n.isSoundOn},e.prototype.onLoad=function(){if(null===n.instance){n.instance=this,n.isSoundOn=window.SOUND_ON=void 0===window.SOUND_ON||window.SOUND_ON;for(var t=0,e=this.clipsInfo;t<e.length;t++){var o=e[t];this.map.set(o.name,new s.default(o.clip,o.volume,o.startTime,o.finishTime))}}else this.node.removeComponent(n)},e.prototype.get=function(t){return this.map.get(t)},e.prototype.play=function(t,e){if(void 0===e&&(e=!1),n.isSoundOn){var o=this.map.get(t);return o.play(e),o}},e.prototype.stop=function(t){var e=this.map.get(t);return e.stop(),e},e.prototype.setMainVolume=function(t){this.map.forEach(function(e){e.setVolume(t)})},e.instance=null,e.isSoundOn=!1,r([p([a.default])],e.prototype,"clipsInfo",void 0),n=r([u],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./AudioClipCustom":"AudioClipCustom","./AudioClipInfo":"AudioClipInfo"}],CameraBoxController:[function(t,e,n){"use strict";cc._RF.push(e,"d8ee6LE6wlI+ZXltiXs+qka","CameraBoxController");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s,a,c=t("../../Enums/Events"),u=t("../Settings"),p=t("../Tween/TweenHelper"),l=cc._decorator,h=l.ccclass,f=l.menu,d=l.property;(function(t){t[t.None=0]="None",t[t.Top=1]="Top",t[t.Bottom=2]="Bottom",t[t.Right=3]="Right",t[t.Left=4]="Left"})(s||(s={})),function(t){t[t.None=0]="None",t[t.Default=1]="Default",t[t.Height=2]="Height",t[t.Width=3]="Width",t[t.Inscribe=4]="Inscribe",t[t.Describe=5]="Describe"}(a||(a={}));var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isUsingSideRatio=!1,e.sideRatio=1.35,e.focus=cc.v2(.5,.5),e.defaultBox=null,e.minimalBox=null,e.stickMode=s.None,e.fitMode=a.Default,e.settings=new u.default,e.tweenHelper=new p.default,e.camera=null,e.target=null,e.width=0,e.height=0,e.currentZoomRatio=1,e.zoomCoef=1,e}return i(e,t),e.prototype.onLoad=function(){this.camera=this.node.getComponent(cc.Camera),this.captureTarget(),cc.systemEvent.on(c.default.WINDOW_RESIZED.toString(),this.onWindowResized,this),cc.systemEvent.on(c.default.CAMERA_ZOOM.toString(),this.onCameraZoom,this)},e.prototype.update=function(){this.refreshCameraPosition()},e.prototype.refreshCameraPosition=function(){if(this.target){var t=this.target.convertToWorldSpaceAR(cc.Vec2.ZERO),e=new cc.Vec2(this.target.width*this.target.scaleX*(this.focus.x-this.target.anchorX),this.target.height*this.target.scaleY*(this.focus.y-this.target.anchorY)),n=t.add(e);this.checkBorderBoxes(n);var o=this.node.getParent().convertToNodeSpaceAR(n);this.node.setPosition(o)}},e.prototype.checkBorderBoxes=function(t){var e=.5*this.width,n=.5*this.height,o=cc.v2(t.x+e,t.y+n),i=cc.v2(t.x-e,t.y-n),r=o.clone(),a=i.clone(),c=.5*this.target.width*this.target.scaleX,u=.5*this.target.height*this.target.scaleY,p=this.target.convertToWorldSpaceAR(cc.Vec2.ZERO),l=cc.v2(p.x+c,p.y+u),h=cc.v2(p.x-c,p.y-u);switch(o.x>l.x&&(r.x=l.x),o.y>l.y&&(r.y=l.y),i.x<h.x&&(a.x=h.x),i.y<h.y&&(a.y=h.y),this.stickMode){case s.Top:t.x=a.x+.5*(r.x-a.x),t.y=r.y-n;break;case s.Bottom:t.x=a.x+.5*(r.x-a.x),t.y=a.y+n;break;case s.Right:t.x=r.x-e,t.y=a.y+.5*(r.y-a.y);break;case s.Left:t.x=a.x+e,t.y=a.y+.5*(r.y-a.y);break;case s.None:default:t.x=a.x+.5*(r.x-a.x),t.y=a.y+.5*(r.y-a.y)}},e.prototype.captureTarget=function(){if(this.isUsingSideRatio&&this.minimalBox){var t=this.settings.GAME_WIDTH,e=this.settings.GAME_HEIGHT,n=Math.max(t/e,e/t);this.target=n>this.sideRatio?this.defaultBox:this.minimalBox}else this.target=this.defaultBox},e.prototype.refreshCameraZoomRatio=function(){if(this.target){var t=this.target.width,e=this.target.height,n=this.settings.GAME_WIDTH/t,o=this.settings.GAME_HEIGHT/e,i=1;switch(this.fitMode){case a.Width:i=n;break;case a.Height:i=o;break;case a.Inscribe:i=Math.max(n,o);break;case a.Default:case a.Describe:i=Math.min(n,o);break;case a.None:i=1}i*=this.zoomCoef,this.camera.zoomRatio=i,this.currentZoomRatio=i,this.width=this.settings.GAME_WIDTH/i,this.height=this.settings.GAME_HEIGHT/i}},e.prototype.onWindowResized=function(t){this.width=t.GAME_WIDTH,this.height=t.GAME_HEIGHT,this.captureTarget(),this.refreshCameraZoomRatio()},e.prototype.onCameraZoom=function(t,e){var n=this;void 0===t&&(t=1),void 0===e&&(e=0);var o={x:0},i=this.tweenHelper.add(o,{x:1},e,"smooth");i.onUpdate=function(){n.camera.zoomRatio=n.currentZoomRatio+n.currentZoomRatio*(t-1)*o.x},i.onComplete=function(){n.camera.zoomRatio=n.currentZoomRatio*t,n.zoomCoef*=t}},r([d()],e.prototype,"isUsingSideRatio",void 0),r([d({visible:function(){return this.isUsingSideRatio}})],e.prototype,"sideRatio",void 0),r([d(cc.Vec2)],e.prototype,"focus",void 0),r([d(cc.Node)],e.prototype,"defaultBox",void 0),r([d({type:cc.Node,visible:function(){return this.isUsingSideRatio}})],e.prototype,"minimalBox",void 0),r([d({type:cc.Enum(s)})],e.prototype,"stickMode",void 0),r([d({type:cc.Enum(a)})],e.prototype,"fitMode",void 0),r([h,f("Camera/CameraBoxController")],e)}(cc.Component);n.default=y,cc._RF.pop()},{"../../Enums/Events":"Events","../Settings":"Settings","../Tween/TweenHelper":"TweenHelper"}],Counter:[function(t,e,n){"use strict";cc._RF.push(e,"f3585pyxdxBhrOXR02YHIyi","Counter");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Enums/Events"),a=cc._decorator,c=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.offset=80,e.numberHolder=null,e.fadeDuration=.2,e.isShowNumbers=!1,e.numbers=[],e.currentNumber=0,e.fadeTween=null,e.number=[],e}return i(e,t),e.prototype.start=function(){cc.systemEvent.on(s.default.LOCK_TAKE.toString(),this.onLockTake,this),this.updateNumber(),this.node.opacity=0},e.prototype.hide=function(){this.fadeTween&&this.fadeTween.stop(),this.fadeTween=new cc.Tween(this.node).to(this.fadeDuration,{opacity:0}).start()},e.prototype.show=function(){this.fadeTween&&this.fadeTween.stop(),this.fadeTween=new cc.Tween(this.node).to(this.fadeDuration,{opacity:255}).start()},e.prototype.reset=function(){this.currentNumber=0,this.updateNumber()},e.prototype.onLockTake=function(){this.currentNumber++,this.updateNumber()},e.prototype.updateNumber=function(){var t=this.currentNumber.toString();if(this.number.length!==t.length){this.number.forEach(function(t){t.destroy()}),this.numberHolder.removeAllChildren(),this.number=[];for(var e=0;e<t.length;e++){var n=new cc.Node;n.setParent(this.numberHolder),n.x=e*this.offset-(t.length-1)*this.offset*.5;var o=n.addComponent(cc.Sprite);o.spriteFrame=this.numbers[t[e]],this.number.push(o)}}else for(e=0;e<t.length;e++)this.number[e].spriteFrame=this.numbers[t[e]]},r([u(cc.Integer)],e.prototype,"offset",void 0),r([u(cc.Node)],e.prototype,"numberHolder",void 0),r([u()],e.prototype,"fadeDuration",void 0),r([u()],e.prototype,"isShowNumbers",void 0),r([u({type:cc.SpriteFrame,visible:function(){return this.isShowNumbers}})],e.prototype,"numbers",void 0),r([c],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../Enums/Events":"Events"}],EasingType:[function(t,e,n){"use strict";var o;cc._RF.push(e,"81f151PE1VOD5zgT2a07AkY","EasingType"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){t[t.constant=0]="constant",t[t.linear=1]="linear",t[t.fade=4]="fade",t[t.smooth=5]="smooth",t[t.backIn=11]="backIn",t[t.backInOut=13]="backInOut",t[t.backOut=12]="backOut",t[t.bounceIn=21]="bounceIn",t[t.bounceInOut=23]="bounceInOut",t[t.bounceOut=22]="bounceOut",t[t.circIn=31]="circIn",t[t.circInOut=33]="circInOut",t[t.circOut=32]="circOut",t[t.cubicIn=41]="cubicIn",t[t.cubicInOut=43]="cubicInOut",t[t.cubicOut=42]="cubicOut",t[t.elasticIn=51]="elasticIn",t[t.elasticInOut=53]="elasticInOut",t[t.elasticOut=52]="elasticOut",t[t.expoIn=61]="expoIn",t[t.expoInOut=63]="expoInOut",t[t.expoOut=62]="expoOut",t[t.quadIn=71]="quadIn",t[t.quadInOut=73]="quadInOut",t[t.quadOut=72]="quadOut",t[t.quartIn=81]="quartIn",t[t.quartInOut=83]="quartInOut",t[t.quartOut=82]="quartOut",t[t.quintIn=91]="quintIn",t[t.quintInOut=93]="quintInOut",t[t.quintOut=92]="quintOut",t[t.sineIn=101]="sineIn",t[t.sineInOut=103]="sineInOut",t[t.sineOut=102]="sineOut"}(o||(o={})),n.default=o,cc._RF.pop()},{}],Easing:[function(t,e,n){"use strict";var o;cc._RF.push(e,"6d2cer5Zq9MZ64rhhokgcag","Easing"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){t[t.linear=0]="linear",t[t.quadIn=1]="quadIn",t[t.quadOut=2]="quadOut",t[t.quadInOut=3]="quadInOut",t[t.cubicIn=4]="cubicIn",t[t.cubicOut=5]="cubicOut",t[t.cubicInOut=6]="cubicInOut",t[t.quartIn=7]="quartIn",t[t.quartOut=8]="quartOut",t[t.quartInOut=9]="quartInOut",t[t.quintIn=10]="quintIn",t[t.quintOut=11]="quintOut",t[t.quintInOut=12]="quintInOut",t[t.sineIn=13]="sineIn",t[t.sineOut=14]="sineOut",t[t.sineInOut=15]="sineInOut",t[t.expoIn=16]="expoIn",t[t.expoOut=17]="expoOut",t[t.expoInOut=18]="expoInOut",t[t.circIn=19]="circIn",t[t.circOut=20]="circOut",t[t.circInOut=21]="circInOut",t[t.elasticIn=22]="elasticIn",t[t.elasticOut=23]="elasticOut",t[t.elasticInOut=24]="elasticInOut",t[t.backIn=25]="backIn",t[t.backOut=26]="backOut",t[t.backInOut=27]="backInOut",t[t.bounceIn=28]="bounceIn",t[t.bounceOut=29]="bounceOut",t[t.bounceInOut=30]="bounceInOut"}(o||(o={})),n.default=o,cc._RF.pop()},{}],Element:[function(t,e,n){"use strict";cc._RF.push(e,"23537U6XX5K+p87tR0iyAVN","Element");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.SliderElementType=void 0;var s,a=cc._decorator,c=a.ccclass,u=a.property;(function(t){t[t.None=0]="None",t[t.First=1]="First",t[t.Second=2]="Second",t[t.Third=3]="Third"})(s=n.SliderElementType||(n.SliderElementType={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=s.None,e}return i(e,t),r([u({type:cc.Enum(s)})],e.prototype,"type",void 0),r([c],e)}(cc.Component);n.default=p,cc._RF.pop()},{}],Euler:[function(t,e,n){"use strict";cc._RF.push(e,"cd15150fXVLtoIok1/eLFWF","Euler"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../Utilities"),i=function(){function t(e,n,o,i){void 0===e&&(e=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===i&&(i=t.DefaultOrder),this._x=0,this._y=0,this._z=0,this._order=t.DefaultOrder,this._matrix=cc.mat4(),this._quaternion=cc.quat(),this._x=e,this._y=n,this._z=o,this._order=i}return Object.defineProperty(t,"DefaultOrder",{get:function(){return"XYZ"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"RotationOrders",{get:function(){return["XYZ","YZX","ZXY","XZY","YXZ","ZYX"]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"z",{get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"order",{get:function(){return this._order},set:function(t){this._order=t,this._onChangeCallback()},enumerable:!1,configurable:!0}),t.prototype.set=function(t,e,n,o){return this._x=t,this._y=e,this._z=n,this._order=o||this._order,this._onChangeCallback(),this},t.prototype.clone=function(){return(new t).copy(this)},t.prototype.copy=function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this},t.prototype.setFromRotationMatrix=function(t,e,n){void 0===n&&(n=!0);var o=t.m,i=o[0],r=o[4],s=o[8],a=o[1],c=o[5],u=o[9],p=o[2],l=o[6],h=o[10];switch(e=e||this._order){case"XYZ":this._y=Math.asin(this.clamp(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-r,i)):(this._x=Math.atan2(l,c),this._z=0);break;case"YXZ":this._x=Math.asin(this.clamp(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,h),this._z=Math.atan2(a,c)):(this._y=Math.atan2(-p,i),this._z=0);break;case"ZXY":this._x=Math.asin(this.clamp(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(-p,h),this._z=Math.atan2(-r,c)):(this._y=0,this._z=Math.atan2(a,i));break;case"ZYX":this._y=Math.asin(-this.clamp(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(l,h),this._z=Math.atan2(a,i)):(this._x=0,this._z=Math.atan2(-r,c));break;case"YZX":this._z=Math.asin(this.clamp(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-p,i)):(this._x=0,this._y=Math.atan2(s,h));break;case"XZY":this._z=Math.asin(-this.clamp(r,-1,1)),Math.abs(r)<.9999999?(this._x=Math.atan2(l,c),this._y=Math.atan2(s,i)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!1!==n&&this._onChangeCallback(),this},t.prototype.setFromQuaternion=function(t,e,n){return void 0===n&&(n=!0),this._matrix.getRotation(t),this.setFromRotationMatrix(this._matrix,e,n)},t.prototype.setFromVector3=function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},t.prototype.reorder=function(t){return this._quaternion=this.createQuaternoinFromEuler(this),this.setFromQuaternion(this._quaternion,t)},t.prototype.equals=function(t){return o.default.isEquals(t.x,this.x)&&o.default.isEquals(t.y,this.y)&&o.default.isEquals(t.z,this.z)&&t._order===this._order},t.prototype.fromArray=function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this},t.prototype.toArray=function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},t.prototype.toVector3=function(t){return t?t.set(this._x,this._y,this._z):cc.v3(this._x,this._y,this._z)},t.prototype._onChange=function(t){return this._onChangeCallback=t,this},t.prototype.createQuaternoinFromEuler=function(t){void 0===t&&(t=this);var e=t._x,n=t._y,o=t._z,i=t._order,r=cc.quat(),s=Math.cos,a=Math.sin,c=s(e/2),u=s(n/2),p=s(o/2),l=a(e/2),h=a(n/2),f=a(o/2);switch(i){case"XYZ":r.x=l*u*p+c*h*f,r.y=c*h*p-l*u*f,r.z=c*u*f+l*h*p,r.w=c*u*p-l*h*f;break;case"YXZ":r.x=l*u*p+c*h*f,r.y=c*h*p-l*u*f,r.z=c*u*f-l*h*p,r.w=c*u*p+l*h*f;break;case"ZXY":r.x=l*u*p-c*h*f,r.y=c*h*p+l*u*f,r.z=c*u*f+l*h*p,r.w=c*u*p-l*h*f;break;case"ZYX":r.x=l*u*p-c*h*f,r.y=c*h*p+l*u*f,r.z=c*u*f-l*h*p,r.w=c*u*p+l*h*f;break;case"YZX":r.x=l*u*p+c*h*f,r.y=c*h*p+l*u*f,r.z=c*u*f-l*h*p,r.w=c*u*p-l*h*f;break;case"XZY":r.x=l*u*p-c*h*f,r.y=c*h*p-l*u*f,r.z=c*u*f+l*h*p,r.w=c*u*p+l*h*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+i)}return r},t.prototype._onChangeCallback=function(){},t.prototype.clamp=function(t,e,n){return Math.min(Math.max(t,e),n)},t}();n.default=i,cc._RF.pop()},{"../Utilities":"Utilities"}],Events:[function(t,e,n){"use strict";var o;cc._RF.push(e,"1a351Sq4e5E8LkcDQIaO7+m","Events"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){t[t.WINDOW_RESIZED=0]="WINDOW_RESIZED",t[t.CAMERA_ZOOM=1]="CAMERA_ZOOM",t[t.CAMERA_SHAKE=2]="CAMERA_SHAKE",t[t.INPUT=3]="INPUT",t[t.EFFECT_SPAWN=4]="EFFECT_SPAWN",t[t.RESULT=5]="RESULT",t[t.UPDATE_TICK=6]="UPDATE_TICK",t[t.PLAYER_ACTION=7]="PLAYER_ACTION",t[t.CATEGORY_SELECTED=8]="CATEGORY_SELECTED",t[t.ANALYTICS_SEND_EVENT=9]="ANALYTICS_SEND_EVENT",t[t.PLAYABLE_START=10]="PLAYABLE_START",t[t.FIRST_TAP=11]="FIRST_TAP",t[t.INACTIVE=12]="INACTIVE",t[t.SHOW_RESULT=13]="SHOW_RESULT",t[t.REDIRECT=14]="REDIRECT",t[t.RESULT_SHOW=15]="RESULT_SHOW",t[t.CANNON_TICK=16]="CANNON_TICK",t[t.RESTART=17]="RESTART",t[t.SHOW_TUTORIAL=18]="SHOW_TUTORIAL",t[t.HIDE_TUTORIAL=19]="HIDE_TUTORIAL",t[t.SLIDER_SELECT=20]="SLIDER_SELECT",t[t.RETURN_PUZZLE_PART=21]="RETURN_PUZZLE_PART",t[t.UPDATE_PUZZLE_LOST_LIST=22]="UPDATE_PUZZLE_LOST_LIST",t[t.SHOW_TIMER=23]="SHOW_TIMER",t[t.HIDE_TIMER=24]="HIDE_TIMER",t[t.START_TIMER=25]="START_TIMER",t[t.STOP_TIMER=26]="STOP_TIMER"}(o||(o={})),n.default=o,cc._RF.pop()},{}],GameManager:[function(t,e,n){"use strict";cc._RF.push(e,"f5af9bZy5ZAPpSB41YPSerf","GameManager");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Enums/Events"),a=t("../Plugins/Settings"),c=t("../Plugins/Preferences"),u=t("../Plugins/Input/InputManager"),p=t("../Plugins/Input/InputTypes"),l=cc._decorator,h=l.ccclass,f=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playableName="playable-name-playable/endcard-version0-en",e.androidUrl="https://www.google.com/search?q=android",e.iosUrl="https://www.google.com/search?q=ios",e.isRedirectOnResultTap=!0,e.isRestartOnResultTap=!1,e.isRedirectByTaps=!1,e.tapsToRedirect=3,e.isNeedToRefreshTapsAfterRedirect=!0,e.isResultAfterTapRedirect=!1,e.delayAfterFirstTap=.5,e.camera=null,e.settings=new a.default,e.isResult=!1,e.isFirstTap=!1,e}var n;return i(e,t),n=e,e.prototype.onLoad=function(){n.playableName=this.playableName,n.androidUrl=this.androidUrl,n.iosUrl=this.iosUrl,this.setRedirectUrl(),this.subscribeEvents(),u.default.getInstance()},e.prototype.start=function(){console.log(n.playableName),this.windowResized(),cc.systemEvent.emit(s.default.PLAYABLE_START.toString())},e.prototype.update=function(t){cc.systemEvent.emit(s.default.UPDATE_TICK.toString(),t)},e.prototype.setRedirectUrl=function(){window.ANDROID_URL=this.androidUrl,window.IOS_URL=this.iosUrl,window.REDIRECT_URL=c.default.REDIRECT_URL=/android/i.test(navigator.userAgent)?this.androidUrl:this.iosUrl},e.prototype.subscribeEvents=function(){var t=this;cc.view.setResizeCallback(function(){t.windowResized()}),u.default.getInstance().on(p.default.Down,this.onDown,this),cc.systemEvent.on(s.default.RESULT.toString(),this.onResult,this)},e.prototype.windowResized=function(){this.settings.updateSettings(),cc.systemEvent.emit(s.default.WINDOW_RESIZED.toString(),this.settings)},e.prototype.onResult=function(t){var e=this;void 0===t&&(t=0),this.scheduleOnce(function(){e.isResult=!0},t),cc.systemEvent.emit(s.default.HIDE_TIMER.toString()),cc.systemEvent.emit(s.default.STOP_TIMER.toString()),cc.systemEvent.emit(s.default.RESULT_SHOW.toString()),window.parent.postMessage("GameComplete","*")},e.prototype.onDown=function(){this.isFirstTap||(this.isFirstTap=!0)},e.playableName="",e.androidUrl="",e.iosUrl="",r([f(cc.String)],e.prototype,"playableName",void 0),r([f(cc.String)],e.prototype,"androidUrl",void 0),r([f(cc.String)],e.prototype,"iosUrl",void 0),r([f()],e.prototype,"isRedirectOnResultTap",void 0),r([f({visible:function(){return this.isRedirectOnResultTap}})],e.prototype,"isRestartOnResultTap",void 0),r([f()],e.prototype,"isRedirectByTaps",void 0),r([f({visible:function(){return this.isRedirectByTaps}})],e.prototype,"tapsToRedirect",void 0),r([f({visible:function(){return this.isRedirectByTaps}})],e.prototype,"isNeedToRefreshTapsAfterRedirect",void 0),r([f({visible:function(){return this.isRedirectByTaps}})],e.prototype,"isResultAfterTapRedirect",void 0),r([f()],e.prototype,"delayAfterFirstTap",void 0),r([f(cc.Camera)],e.prototype,"camera",void 0),n=r([h],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../Enums/Events":"Events","../Plugins/Input/InputManager":"InputManager","../Plugins/Input/InputTypes":"InputTypes","../Plugins/Preferences":"Preferences","../Plugins/Settings":"Settings"}],IConfiguration:[function(t,e,n){"use strict";cc._RF.push(e,"7de95s85IdBpodhD2RpEpf5","IConfiguration"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],InputCatcher:[function(t,e,n){"use strict";cc._RF.push(e,"bfd25+KDbhOjY67Qa0BTnuK","InputCatcher");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./InputSources"),a=t("./InputTypes"),c=t("../../Enums/Events"),u=cc._decorator,p=u.ccclass,l=u.property,h=u.menu,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.inputSource=s.default.Default,e}return i(e,t),e.prototype.onEnable=function(){this.toggleSubscribe(!0)},e.prototype.onDisable=function(){this.toggleSubscribe(!1)},e.prototype.toggleSubscribe=function(t){var e=t?"on":"off";this.node[e]("touchstart",this.onDown,this),this.node[e]("touchmove",this.onMove,this),this.node[e]("touchend",this.onUp,this),this.node[e]("touchcancel",this.onUp,this)},e.prototype.onDown=function(t){cc.systemEvent.emit(c.default.INPUT.toString(),a.default.Down,t,this.inputSource)},e.prototype.onMove=function(t){cc.systemEvent.emit(c.default.INPUT.toString(),a.default.Move,t,this.inputSource)},e.prototype.onUp=function(t){cc.systemEvent.emit(c.default.INPUT.toString(),a.default.Up,t,this.inputSource)},r([l({type:cc.Enum(s.default)})],e.prototype,"inputSource",void 0),r([p,h("Input/Catcher")],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../Enums/Events":"Events","./InputSources":"InputSources","./InputTypes":"InputTypes"}],InputManagerData:[function(t,e,n){"use strict";cc._RF.push(e,"adbe1EPW/NA849ypE+c1+xC","InputManagerData"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],InputManager:[function(t,e,n){"use strict";cc._RF.push(e,"5cccai9TDBE4ZA2Z2miNWe2","InputManager");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=t("./InputTypes"),s=t("../../Enums/Events"),a=function(t){function e(){var e=t.call(this)||this;return e.isLockedMultiTouch=!0,e.inactiveTime=0,e.currentTouchID=null,e.wasInaction5Sec=!1,e.wasInaction10Sec=!1,e.wasInaction15Sec=!1,e.wasFirstTap=!1,e.subscribeEvents(),e}return i(e,t),e.prototype.resetInactionTime=function(){this.inactiveTime=0},e.prototype.resetInactionEvents=function(){this.wasInaction5Sec=!1,this.wasInaction10Sec=!1,this.wasInaction15Sec=!1,this.resetInactionTime()},e.prototype.on=function(e,n,o,i){return t.prototype.on.call(this,""+e,n,o,i)},e.prototype.off=function(e,n,o){t.prototype.off.call(this,""+e,n,o)},e.getInstance=function(){return null===this.instance&&(this.instance=new e),this.instance},e.prototype.subscribeEvents=function(){cc.systemEvent.on(s.default.INPUT.toString(),this.onInput,this),cc.systemEvent.on(s.default.UPDATE_TICK.toString(),this.update,this)},e.prototype.update=function(t){this.inactiveTime=null!==this.currentTouchID?0:this.inactiveTime+t,!this.wasInaction5Sec&&this.inactiveTime>=5&&(this.wasInaction5Sec=!0,cc.systemEvent.emit(s.default.INACTIVE.toString(),5)),!this.wasInaction10Sec&&this.inactiveTime>=10&&(this.wasInaction10Sec=!0,cc.systemEvent.emit(s.default.INACTIVE.toString(),10)),!this.wasInaction15Sec&&this.inactiveTime>=15&&(this.wasInaction15Sec=!0,cc.systemEvent.emit(s.default.INACTIVE.toString(),15))},e.prototype.onInput=function(t,e,n){t!==r.default.Down||this.wasFirstTap||(this.wasFirstTap=!0),this.isLockedMultiTouch&&null!==this.currentTouchID&&this.currentTouchID!==e.getID()||(t===r.default.Up&&(this.currentTouchID=null),t===r.default.Down&&(this.currentTouchID=e.getID()),this.emit(r.default.None.toString(),{type:t,eventTouch:e,touchSource:n}),this.emit(t.toString(),{type:t,eventTouch:e,touchSource:n}))},e.instance=null,e}(cc.EventTarget);n.default=a,cc._RF.pop()},{"../../Enums/Events":"Events","./InputTypes":"InputTypes"}],InputSources:[function(t,e,n){"use strict";var o;cc._RF.push(e,"e9986szK2hFeKEtGOFsYztN","InputSources"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){t[t.Default=0]="Default",t[t.RedirectButton=1]="RedirectButton",t[t.CommonCatcher=2]="CommonCatcher",t[t.None=3]="None",t[t.SliderLeftButton=4]="SliderLeftButton",t[t.SliderRightButton=5]="SliderRightButton",t[t.SliderSelectButton=6]="SliderSelectButton",t[t.PuzzlePart=7]="PuzzlePart"}(o||(o={})),n.default=o,cc._RF.pop()},{}],InputTypes:[function(t,e,n){"use strict";var o;cc._RF.push(e,"ab427JsHMhCGaPtVWlWVVgS","InputTypes"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){t[t.None=0]="None",t[t.Down=1]="Down",t[t.Move=2]="Move",t[t.Up=3]="Up"}(o||(o={})),n.default=o,cc._RF.pop()},{}],PositionComponent:[function(t,e,n){"use strict";cc._RF.push(e,"3f47eKal9dEBLQw4z+dhr3p","PositionComponent");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s,a,c=t("../Base/SimpleTransformComponent"),u=t("../../../Settings"),p=cc._decorator,l=p.ccclass,h=p.property;(function(t){t[t.Relative=0]="Relative",t[t.Absolute=1]="Absolute"})(s||(s={})),function(t){t[t.UI=0]="UI",t[t.World=1]="World"}(a||(a={}));var f=function(){function t(){this.positionType=s.Relative,this.layer=a.UI,this.position=cc.v2(0,0),this.offset=cc.v2(0,0),this.settings=new u.default}return t.prototype.applyTransform=function(t,e,n){void 0===n&&(n=!1);var o=cc.v2(),i=this.position.clone(),r=this.checkTransformReference(e,n);this.positionType===s.Relative?(r||(r=this.calculateReferenceSize()),o=this.calculatePositionByRefSize(i,r)):this.positionType===s.Absolute&&(o=i.clone().mul(this.layer===a.UI?this.settings.SCALE:1)),this.applyOffset(o,this.offset,this.layer),this.applyPosition(t,o)},t.prototype.checkTransformReference=function(t,e){return t?cc.size(t.width*(e?t.scaleX:1),t.height*(e?t.scaleY:1)):null},t.prototype.calculateReferenceSize=function(){return this.layer===a.UI?cc.size(this.settings.GAME_WIDTH,this.settings.GAME_HEIGHT):this.layer===a.World?cc.size(this.settings.WORLD_HEIGHT,this.settings.WORLD_WIDTH):cc.size(1,1)},t.prototype.applyOffset=function(t,e,n){return t.addSelf(e.mul(n===a.UI?this.settings.SCALE:1))},t.prototype.applyPosition=function(t,e){t.setPosition(e)},t.prototype.calculatePositionByRefSize=function(t,e){return cc.v2(e.width*t.x,e.height*t.y)},t.prototype.getData=function(){return{positionType:this.positionType,layer:this.layer,position:this.position.clone(),offset:this.offset.clone()}},t.prototype.applyData=function(t){this.positionType=t.positionType,this.layer=t.layer,this.position=t.position,this.offset=t.offset},r([h({type:cc.Enum(s)})],t.prototype,"positionType",void 0),r([h({type:cc.Enum(a)})],t.prototype,"layer",void 0),r([h(cc.Vec2)],t.prototype,"position",void 0),r([h(cc.Vec2)],t.prototype,"offset",void 0),r([l("PositionConfiguration")],t)}(),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.configuration=null,e}return i(e,t),e.prototype.execute=function(t,e){this.configuration&&this.configuration.applyTransform(t,e)},e.prototype.reset=function(t){this.configuration=t?new f:null},r([h({type:f,serializable:!0,visible:function(){return this.isActive}})],e.prototype,"configuration",void 0),r([l("PositionComponent")],e)}(c.default);n.default=d,cc._RF.pop()},{"../../../Settings":"Settings","../Base/SimpleTransformComponent":"SimpleTransformComponent"}],Preferences:[function(t,e,n){"use strict";cc._RF.push(e,"6f9a9WU74ZEt69Oi6FhBNeA","Preferences"),Object.defineProperty(n,"__esModule",{value:!0}),window.ANDROID_URL="https://apps.apple.com/u",window.IOS_URL="https://apps.apple.com";var o=function(){function t(){}return t.REDIRECT_URL="",t.AD_NET=window.AD_NET||"ggl",t.ANALYTICS_ON="boolean"==typeof window.ANALYTICS_ON&&window.ANALYTICS_ON,t.SOUND_ON="boolean"!=typeof window.SOUND_ON||window.SOUND_ON,t.global={gameEnd:window.gameEnd,TJ_API:window.TJ_API,BD_API:window.playableSDK},t}();n.default=o,window.AD_NET=o.AD_NET,cc._RF.pop()},{}],PuzzleController:[function(t,e,n){"use strict";cc._RF.push(e,"08501wL6SRGnr55e/CNDZNp","PuzzleController");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../Enums/Events"),a=t("../../Plugins/Input/InputSources"),c=t("../../Plugins/Input/InputTypes"),u=t("../../Plugins/TransformComponent/TransformComponent"),p=t("./PuzzlePart"),l=cc._decorator,h=l.ccclass,f=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultPartHolder=null,e.acceptRadius=50,e.mainOffset=new cc.Vec2(0,0),e.gridSize=new cc.Vec2(10,10),e.debug=null,e.exceptions=[],e.manager=null,e.isTouching=!1,e.currentPuzzlePart=null,e.cashTargetPos=[],e.localTargetPos=[],e}return i(e,t),e.prototype.start=function(){this.node.getComponent(u.default).onSizeChanged()},e.prototype.init=function(t,e,n){if(this.manager=t,console.log(e),this.debug){for(var o=0;o<this.gridSize.x;o++)for(var i=0;i<this.gridSize.y;i++){(a=cc.instantiate(this.debug)).setParent(this.node);var r=o*a.width*a.scaleX+this.mainOffset.x,s=i*a.height*a.scaleX+this.mainOffset.y;a.setPosition(new cc.Vec2(r,s))}for(o=0;o<this.exceptions.length;o++){var a,c=this.exceptions[o];(a=cc.instantiate(this.debug)).setParent(this.node),a.setPosition(c)}}else{for(o=0;o<this.gridSize.x;o++)for(i=0;i<this.gridSize.y;i++)r=o*e+this.mainOffset.x,s=i*n+this.mainOffset.y,this.localTargetPos.push(new cc.Vec2(r,s));for(o=0;o<this.exceptions.length;o++)c=this.exceptions[o],this.localTargetPos.push(c);this.updateCashPos()}},e.prototype.updateCashPos=function(){var t=this;this.scheduleOnce(function(){t.cashTargetPos=[],t.localTargetPos.forEach(function(e){t.cashTargetPos.push(t.node.convertToWorldSpaceAR(e))})},0)},e.prototype.checkPuzzlePartPos=function(){for(var t=0;t<this.cashTargetPos.length;t++){var e=this.cashTargetPos[t].clone().subSelf(this.currentPuzzlePart.getWorldPosition()).len();if(e<=this.acceptRadius&&(cc.systemEvent.emit(s.default.UPDATE_PUZZLE_LOST_LIST.toString(),this.currentPuzzlePart),this.currentPuzzlePart.targetLocalPos.set(this.localTargetPos[t]),this.currentPuzzlePart.takeTargetPos(this.defaultPartHolder,1),this.localTargetPos.splice(t,1),this.cashTargetPos.splice(t,1)),e<=this.acceptRadius)return}this.currentPuzzlePart.returnToLastPos()},e.prototype.onInput=function(t){if(t.touchSource===a.default.PuzzlePart)switch(t.type){case c.default.Down:this.onDown(t);break;case c.default.Move:this.onMove(t);break;case c.default.Up:this.onUp(t)}},e.prototype.onDown=function(t){this.isTouching||(this.currentPuzzlePart=t.eventTouch.currentTarget.getComponent(p.default),this.currentPuzzlePart.isInputActive||(this.currentPuzzlePart=null),this.currentPuzzlePart&&(this.manager.inputHandler(!0),this.currentPuzzlePart.focus(),this.isTouching=!0))},e.prototype.onMove=function(t){this.isTouching&&this.currentPuzzlePart.setFromWorldPosition(t.eventTouch.getLocation())},e.prototype.onUp=function(){this.isTouching&&(this.isTouching=!1,this.checkPuzzlePartPos(),this.currentPuzzlePart=null)},r([f(cc.Node)],e.prototype,"defaultPartHolder",void 0),r([f()],e.prototype,"acceptRadius",void 0),r([f(cc.Vec2)],e.prototype,"mainOffset",void 0),r([f(cc.Vec2)],e.prototype,"gridSize",void 0),r([f(cc.Prefab)],e.prototype,"debug",void 0),r([f(cc.Vec2)],e.prototype,"exceptions",void 0),r([h],e)}(cc.Component);n.default=d,cc._RF.pop()},{"../../Enums/Events":"Events","../../Plugins/Input/InputSources":"InputSources","../../Plugins/Input/InputTypes":"InputTypes","../../Plugins/TransformComponent/TransformComponent":"TransformComponent","./PuzzlePart":"PuzzlePart"}],PuzzleManager:[function(t,e,n){"use strict";cc._RF.push(e,"90731rXKyhN3IuBkE3TbAeJ","PuzzleManager");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0}),n.PuzzleTypes=void 0;var s,a=t("../../Enums/Events"),c=t("../../Plugins/Input/InputManager"),u=t("../../Plugins/Input/InputSources"),p=t("../../Plugins/Input/InputTypes"),l=t("./PuzzleController"),h=t("./PuzzlePart"),f=t("./PuzzlePartsHolder"),d=cc._decorator,y=d.ccclass,_=d.property;(function(t){t[t.None=0]="None",t[t.First=1]="First",t[t.Second=2]="Second",t[t.Third=3]="Third"})(s=n.PuzzleTypes||(n.PuzzleTypes={}));var m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.firstLegoPrefab=null,e.secondLegoPrefab=null,e.thirdLegoPrefab=null,e.lostPartsHolder=null,e.currentPuzzle=null,e.animation=null,e.wasFirstTap=!1,e.wasResult=!1,e}return i(e,t),e.prototype.start=function(){c.default.getInstance().on(p.default.None,this.onInput,this),this.animation=this.node.getComponent(cc.Animation),cc.systemEvent.on(a.default.SLIDER_SELECT.toString(),this.onSliderSelect,this),cc.systemEvent.on(a.default.RESULT_SHOW.toString(),this.onResultShow,this)},e.prototype.init=function(t){var e;switch(t){case s.First:e=cc.instantiate(this.firstLegoPrefab);break;case s.Second:e=cc.instantiate(this.secondLegoPrefab);break;case s.Third:e=cc.instantiate(this.thirdLegoPrefab)}this.node.removeChild(this.node.getChildByName("CurrentLego")),e.name="CurrentLego",this.node.addChild(e),this.currentPuzzle=e.getComponent(l.default),this.lostPartsHolder.init(t);var n=this.lostPartsHolder.partPrefab.data.getComponent(h.default),o=n.getWidth(),i=n.getHeight();this.currentPuzzle.init(this,o,i),this.animation&&this.animation.play("lego_show")},e.prototype.puzzleComplete=function(){},e.prototype.inputHandler=function(){},e.prototype.onInput=function(t){this.wasResult||(this.currentPuzzle&&t.touchSource===u.default.PuzzlePart&&this.currentPuzzle.onInput(t),!this.wasFirstTap&&this.currentPuzzle&&(this.wasFirstTap=!0,this.animation.play("lego_show_button"),cc.systemEvent.emit(a.default.HIDE_TUTORIAL.toString()),cc.systemEvent.emit(a.default.START_TIMER.toString())),this.wasFirstTap&&t.touchSource===u.default.RedirectButton&&cc.systemEvent.emit(a.default.RESULT.toString()))},e.prototype.onSliderSelect=function(t){this.init(t)},e.prototype.onResultShow=function(){this.animation.playAdditive("lego_hide"),this.wasResult=!0},r([_(cc.Prefab)],e.prototype,"firstLegoPrefab",void 0),r([_(cc.Prefab)],e.prototype,"secondLegoPrefab",void 0),r([_(cc.Prefab)],e.prototype,"thirdLegoPrefab",void 0),r([_(f.default)],e.prototype,"lostPartsHolder",void 0),r([y],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../Enums/Events":"Events","../../Plugins/Input/InputManager":"InputManager","../../Plugins/Input/InputSources":"InputSources","../../Plugins/Input/InputTypes":"InputTypes","./PuzzleController":"PuzzleController","./PuzzlePart":"PuzzlePart","./PuzzlePartsHolder":"PuzzlePartsHolder"}],PuzzlePartsHolder:[function(t,e,n){"use strict";cc._RF.push(e,"785f2tbTm9LNZMQv8JFhbq6","PuzzlePartsHolder");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s,a,c,u=t("../../Enums/Events"),p=t("./PuzzlePart"),l=cc._decorator,h=l.ccclass,f=l.property;(function(t){t[t.None=0]="None",t[t.First=1]="First",t[t.Second=2]="Second",t[t.Third=3]="Third"})(s||(s={})),function(t){t[t.Yellow=0]="Yellow",t[t.White=1]="White",t[t["White_\u0421"]=2]="White_\u0421",t[t.Purple=3]="Purple",t[t.Pink=4]="Pink",t[t.Grey=5]="Grey",t[t.Green=6]="Green",t[t.Black=7]="Black"}(a||(a={})),function(t){t[t.Square=0]="Square",t[t.Quadrant_1=1]="Quadrant_1",t[t.Quadrant_2=2]="Quadrant_2",t[t.Quadrant_3=3]="Quadrant_3",t[t.Quadrant_4=4]="Quadrant_4"}(c||(c={}));var d=function(){function t(){this.color=a.Yellow,this.squareSprite=null,this.quadrantSprite=null,this.shape=[]}return r([f({type:cc.Enum(a)})],t.prototype,"color",void 0),r([f(cc.SpriteFrame)],t.prototype,"squareSprite",void 0),r([f(cc.SpriteFrame)],t.prototype,"quadrantSprite",void 0),r([f({type:cc.Enum(c)})],t.prototype,"shape",void 0),r([h("PuzzleCollectionByColor")],t)}(),y=function(){function t(){this.backSprite=null,this.type=s.First,this.collection=[]}return r([f({type:cc.SpriteFrame})],t.prototype,"backSprite",void 0),r([f({type:cc.Enum(s)})],t.prototype,"type",void 0),r([f({type:cc.Enum(a)})],t.prototype,"collection",void 0),r([h("BoardPartsConfig")],t)}(),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.offset=new cc.Vec2(50,50),e.partPrefab=null,e.back=null,e.boardConfigs=[],e.isShowPartsCollection=!1,e.partsCollection=[],e}return i(e,t),e.prototype.start=function(){this.node.zIndex=100,cc.systemEvent.on(u.default.UPDATE_PUZZLE_LOST_LIST.toString(),this.onUpdatePuzzleLostList,this)},e.prototype.init=function(t){var e=this,n=[],o=this.boardConfigs.find(function(e){return e.type===t});return this.back.spriteFrame=o.backSprite,o.collection.forEach(function(t,i){for(var r=e.partsCollection.find(function(e){return e.color===t}),s=0;s<r.shape.length;s++){var a=cc.instantiate(e.partPrefab).getComponent(p.default);a.setParent(e.node);var u=r.shape[s]===c.Square?r.squareSprite:r.quadrantSprite;a.setSprite(u);var l=void 0;switch(r.shape[s]){case c.Quadrant_4:l=0;break;case c.Quadrant_3:l=90;break;case c.Quadrant_2:l=180;break;case c.Quadrant_1:l=270;break;default:l=0}a.setAngle(l);var h=i*e.offset.x-(o.collection.length-1)*e.offset.x*.5,f=s*e.offset.y-(r.shape.length-1)*e.offset.y*.5;a.setPosition(new cc.Vec2(h,f)),a.isInputActive=!0,n.push(a)}}),n},e.prototype.onUpdatePuzzleLostList=function(t){var e=cc.instantiate(this.partPrefab).getComponent(p.default);e.setParent(this.node),e.setSprite(t.sprite.spriteFrame),e.setAngle(t.getAngle()),e.setPosition(t.lastPosition),e.isInputActive=!0},r([f(cc.Vec2)],e.prototype,"offset",void 0),r([f(cc.Prefab)],e.prototype,"partPrefab",void 0),r([f(cc.Sprite)],e.prototype,"back",void 0),r([f(y)],e.prototype,"boardConfigs",void 0),r([f()],e.prototype,"isShowPartsCollection",void 0),r([f({type:d,visible:function(){return this.isShowPartsCollection}})],e.prototype,"partsCollection",void 0),r([h],e)}(cc.Component);n.default=_,cc._RF.pop()},{"../../Enums/Events":"Events","./PuzzlePart":"PuzzlePart"}],PuzzlePart:[function(t,e,n){"use strict";cc._RF.push(e,"0ed0d8YYqNPnL8uBT1oWokE","PuzzlePart");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../../Enums/Easing"),a=t("../../Enums/Events"),c=t("../../Plugins/Settings"),u=cc._decorator,p=u.ccclass,l=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.targetLocalPos=new cc.Vec2,e.moveOffset=new cc.Vec2(0,100),e.scaleMultiplier=1.2,e.movingSpeedLand=1600,e.movingSpeedPort=1200,e.isInputActive=!1,e.lastPosition=new cc.Vec2,e.lastScale=1,e.tweenScale=null,e.tweenMove=null,e.tweenOffset=null,e.currentMoveoffset=new cc.Vec2(0,0),e.settings=new c.default,e}return i(e,t),e.prototype.start=function(){},e.prototype.setSprite=function(t){this.sprite.spriteFrame=t},e.prototype.setAngle=function(t){this.sprite.node.angle=t},e.prototype.getAngle=function(){return this.sprite.node.angle},e.prototype.show=function(t){var e=this;this.lastScale=t,this.lastPosition=this.getPosition(),this.tweenScale&&this.tweenScale.stop(),this.tweenScale=new cc.Tween(this.node).to(.2,{scale:t},{easing:s.default[s.default.quadOut]}).call(function(){e.isInputActive=!0}),this.tweenScale.start()},e.prototype.setParent=function(t){this.node.setParent(t)},e.prototype.setPosition=function(t){this.node.setPosition(t)},e.prototype.setFromWorldPosition=function(t,e){void 0===e&&(e=!0),e&&t.addSelf(this.currentMoveoffset);var n=this.node.parent.convertToNodeSpaceAR(t);this.node.setPosition(n)},e.prototype.getPosition=function(){return this.node.getPosition()},e.prototype.getWorldPosition=function(){return this.node.convertToWorldSpaceAR(new cc.Vec2(0,0))},e.prototype.setScale=function(t){this.node.setScale(t)},e.prototype.getWidth=function(){return this.sprite.node.width*this.sprite.node.scaleX},e.prototype.getHeight=function(){return this.sprite.node.height*this.sprite.node.scaleY},e.prototype.focus=function(){this.lastPosition.set(this.node.getPosition()),this.lastScale=this.node.scale,this.node.zIndex=100,this.tweenMove&&this.tweenMove.stop(),this.tweenScale&&this.tweenScale.stop(),this.tweenOffset&&this.tweenOffset.stop(),this.tweenScale=new cc.Tween(this.node).to(.15,{scale:this.lastScale*this.scaleMultiplier},{easing:s.default[s.default.quadOut]}),this.tweenOffset=new cc.Tween(this).to(.15,{currentMoveoffset:this.moveOffset},{easing:s.default[s.default.quadOut]}),this.tweenScale.start(),this.tweenOffset.start()},e.prototype.returnToLastPos=function(){var t=this;this.isInputActive=!1;var e=this.node.getPosition().subSelf(this.lastPosition).len()/(this.settings.IS_LANDSCAPE?this.movingSpeedLand:this.movingSpeedPort);this.tweenMove&&this.tweenMove.stop(),this.tweenScale&&this.tweenScale.stop(),this.tweenOffset&&this.tweenOffset.stop(),this.currentMoveoffset.set(new cc.Vec2(0,0)),this.tweenScale=new cc.Tween(this.node).to(e,{scale:this.lastScale},{easing:s.default[s.default.quadOut]}),this.tweenScale.start(),this.tweenMove=new cc.Tween(this.node).to(e,{position:this.lastPosition},{easing:s.default[s.default.quadIn]}).call(function(){t.node.zIndex=1,t.isInputActive=!0,cc.systemEvent.emit(a.default.RETURN_PUZZLE_PART.toString())}),this.tweenMove.start()},e.prototype.takeTargetPos=function(t,e){this.tweenMove&&this.tweenMove.stop(),this.tweenScale&&this.tweenScale.stop(),this.isInputActive=!1;var n=t.getWorldMatrix(new cc.Mat4),o=new cc.Vec2;cc.Vec2.transformMat4(o,this.getWorldPosition(),n.invert(n));var i=function(t){for(var e=1,n=t;n;)e*=n.scale,n=n.parent;return e},r=this.node.scale*i(this.node.parent)/i(t);this.node.setParent(t),this.setPosition(o),this.node.setScale(r),this.tweenScale=new cc.Tween(this.node).to(.5,{scale:e},{easing:s.default[s.default.quadOut]}),this.tweenScale.start(),this.tweenMove=new cc.Tween(this.node).to(.5,{position:this.targetLocalPos},{easing:s.default[s.default.quadIn]}),this.tweenMove.start()},r([l(cc.Sprite)],e.prototype,"sprite",void 0),r([l(cc.Vec2)],e.prototype,"targetLocalPos",void 0),r([l(cc.Vec2)],e.prototype,"moveOffset",void 0),r([l()],e.prototype,"scaleMultiplier",void 0),r([l()],e.prototype,"movingSpeedLand",void 0),r([l()],e.prototype,"movingSpeedPort",void 0),r([p],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../Enums/Easing":"Easing","../../Enums/Events":"Events","../../Plugins/Settings":"Settings"}],Result:[function(t,e,n){"use strict";cc._RF.push(e,"5b6f0MtZZBLWJYrjUVtd+OI","Result");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Enums/Events"),a=cc._decorator,c=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.offset=75,e.numberHolder=null,e.isShowNumbers=!1,e.numbers=[],e.animation=null,e.counter=0,e.currentNumber=0,e.number=[],e}return i(e,t),e.prototype.start=function(){cc.systemEvent.on(s.default.RESULT_SHOW.toString(),this.onShowResult,this),cc.systemEvent.on(s.default.RESULT_HIDE.toString(),this.onHideResult,this),cc.systemEvent.on(s.default.LOCK_TAKE.toString(),this.onLockTake,this),cc.systemEvent.on(s.default.RESULT.toString(),this.onResult,this),this.animation=this.node.getComponent(cc.Animation)},e.prototype.updateNumber=function(){var t=this.currentNumber.toString();if(this.number.length!==t.length){this.number.forEach(function(t){t.destroy()}),this.numberHolder.removeAllChildren(),this.number=[];for(var e=0;e<t.length;e++){var n=new cc.Node;n.setParent(this.numberHolder),n.x=e*this.offset-(t.length-1)*this.offset*.5;var o=n.addComponent(cc.Sprite);o.spriteFrame=this.numbers[t[e]],this.number.push(o)}}else for(e=0;e<t.length;e++)this.number[e].spriteFrame=this.numbers[t[e]]},e.prototype.onShowResult=function(){var t=this;this.animation.play("result_show"),this.animation.once(cc.Animation.EventType.FINISHED,function(){t.animation.play("result_idle")},this)},e.prototype.onLockTake=function(){this.currentNumber++},e.prototype.onResult=function(){this.updateNumber()},e.prototype.onHideResult=function(){this.animation.play("result_hide"),this.counter=0},r([u(cc.Integer)],e.prototype,"offset",void 0),r([u(cc.Node)],e.prototype,"numberHolder",void 0),r([u()],e.prototype,"isShowNumbers",void 0),r([u({type:cc.SpriteFrame,visible:function(){return this.isShowNumbers}})],e.prototype,"numbers",void 0),r([c],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../Enums/Events":"Events"}],RotationComponent:[function(t,e,n){"use strict";cc._RF.push(e,"4069ei4PWlPwYzr1Kpp0AkJ","RotationComponent");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Base/SimpleTransformComponent"),a=cc._decorator,c=a.ccclass,u=a.property,p=function(){function t(){this.rotation=0}return t.prototype.applyTransform=function(t){t.angle=this.rotation},t.prototype.getData=function(){return{rotation:this.rotation}},t.prototype.applyData=function(t){this.rotation=t.rotation},r([u()],t.prototype,"rotation",void 0),r([c("RotationConfiguration")],t)}(),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.configuration=null,e}return i(e,t),e.prototype.execute=function(t,e){this.configuration&&this.configuration.applyTransform(t,e)},e.prototype.reset=function(t){this.configuration=t?new p:null},r([u({type:p,serializable:!0,visible:function(){return this.isActive}})],e.prototype,"configuration",void 0),r([c("RotationComponent")],e)}(s.default);n.default=l,cc._RF.pop()},{"../Base/SimpleTransformComponent":"SimpleTransformComponent"}],ScaleComponent:[function(t,e,n){"use strict";cc._RF.push(e,"ac858khkjFIGafnOG+6gWN7","ScaleComponent");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s,a,c,u,p=t("../Base/SimpleTransformComponent"),l=t("../../../Settings"),h=cc._decorator,f=h.ccclass,d=h.property;(function(t){t[t.Proportional=0]="Proportional",t[t.Unproportional=1]="Unproportional"})(s||(s={})),function(t){t[t.Inscribe=0]="Inscribe",t[t.Describe=1]="Describe",t[t.FitWidth=3]="FitWidth",t[t.FitHeight=4]="FitHeight",t[t.Unproportional=5]="Unproportional",t[t.Default=6]="Default"}(a||(a={})),function(t){t[t.Relative=0]="Relative",t[t.Constant=1]="Constant"}(c||(c={})),function(t){t[t.UI=0]="UI",t[t.World=1]="World"}(u||(u={}));var y=function(){function t(){this.sizeMode=c.Relative,this.fitMode=a.Inscribe,this.layer=u.UI,this.desiredSize=cc.v2(),this.padding=cc.v2(),this.settings=new l.default}return t.prototype.applyTransform=function(t,e,n){void 0===n&&(n=!1);var o=this.checkTransformReference(e,n);o||(o=this.calculateReferenceSize());var i=cc.v2(),r=this.calculateActualSize(o),s=cc.v2(r.x/t.width,r.y/t.height);i=this.calculateTargetScale(this.fitMode,s,cc.v2(t.scaleX,t.scaleY),r),t.scaleX=i.x,t.scaleY=i.y},t.prototype.checkTransformReference=function(t,e){return t?cc.v2(t.width*(e?t.scaleX:1),t.height*(e?t.scaleY:1)):null},t.prototype.calculateReferenceSize=function(){return this.layer===u.UI?cc.v2(this.settings.GAME_WIDTH,this.settings.GAME_HEIGHT):this.layer===u.World?cc.v2(this.settings.WORLD_HEIGHT,this.settings.WORLD_WIDTH):cc.v2(1,1)},t.prototype.calculateTargetScale=function(t,e,n,o){var i=e.clone();switch(!0){case t===a.Inscribe:i.x=i.y=Math.min(i.x,i.y);break;case t===a.Describe:i.x=i.y=Math.max(i.x,i.y);break;case t===a.FitHeight:i.x=i.y;break;case t===a.FitWidth:i.y=i.x;break;case t===a.Unproportional:this.sizeMode===c.Constant&&(i=o.clone());break;case t===a.Default:i=this.calculateTargetScale(a.Inscribe,e,n,o)}return i},t.prototype.calculateActualSize=function(t){var e=null;switch(!0){case this.sizeMode===c.Relative&&this.layer===u.UI:e=this.calculateSizeByRelativeSize(this.desiredSize,t).sub(this.padding.mul(this.settings.SCALE));break;case this.sizeMode===c.Relative&&this.layer===u.World:e=this.calculateSizeByRelativeSize(this.desiredSize,t);break;case this.sizeMode===c.Constant&&this.layer===u.UI:e=this.desiredSize.clone().mul(this.settings.SCALE);break;case this.sizeMode===c.Constant&&this.layer===u.World:e=this.desiredSize.clone();break;default:e=cc.v2(1,1)}return e},t.prototype.calculateSizeByRelativeSize=function(t,e){return cc.v2(e.x*t.x,e.y*t.y)},t.prototype.getData=function(){return{sizeMode:this.sizeMode,fitMode:this.fitMode,layer:this.layer,desiredSize:this.desiredSize,padding:this.padding}},t.prototype.applyData=function(t){this.sizeMode=t.sizeMode,this.fitMode=t.fitMode,this.layer=t.layer,this.desiredSize=t.desiredSize.clone(),this.padding=t.padding.clone()},r([d({type:cc.Enum(c)})],t.prototype,"sizeMode",void 0),r([d({type:cc.Enum(a)})],t.prototype,"fitMode",void 0),r([d({type:cc.Enum(u)})],t.prototype,"layer",void 0),r([d(cc.Vec2)],t.prototype,"desiredSize",void 0),r([d({visible:function(){return this.sizeMode===c.Relative}})],t.prototype,"padding",void 0),r([f("ScaleConfiguration")],t)}(),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.configuration=null,e}return i(e,t),e.prototype.execute=function(t,e){this.configuration&&this.configuration.applyTransform(t,e)},e.prototype.reset=function(t){this.configuration=t?new y:null},r([d({type:y,serializable:!0,visible:function(){return this.isActive}})],e.prototype,"configuration",void 0),r([f("ScaleComponent")],e)}(p.default);n.default=_,cc._RF.pop()},{"../../../Settings":"Settings","../Base/SimpleTransformComponent":"SimpleTransformComponent"}],ScrenShoot:[function(t,e,n){"use strict";cc._RF.push(e,"c5fbdt9/pRLTb8LmEuOQ8fs","ScrenShoot");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("./Enums/Events"),a=t("./Plugins/Settings"),c=cc._decorator,u=c.ccclass,p=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.camera=null,e.renderTextureSprite=null,e.renderTexture=null,e.settings=new a.default,e}return i(e,t),e.prototype.start=function(){var t=this;this.renderTexture||this.initRenderTexture(),cc.systemEvent.on(s.default.WINDOW_RESIZED.toString(),this.resize,this),this.scheduleOnce(function(){console.log("----------SHOOT--------------"),t.shoot()},2)},e.prototype.initRenderTexture=function(){this.renderTexture=new cc.RenderTexture,this.refreshRenderTexture()},e.prototype.refreshRenderTexture=function(){var t=this.settings.GAME_WIDTH,e=this.settings.GAME_HEIGHT;this.renderTexture.initWithSize(t,e),this.camera.targetTexture=this.renderTexture,console.log(this.camera)},e.prototype.shoot=function(){var t=this.settings.GAME_WIDTH/2,e=this.settings.GAME_HEIGHT/2;this.camera.render();var n=this.renderTexture.readPixels(void 0,0,0,t,e),o=new cc.Texture2D;o.initWithData(n,cc.gfx.TEXTURE_FMT_RGBA8,t,e);var i=new cc.SpriteFrame;i.setTexture(o),this.renderTextureSprite.spriteFrame=i,console.log(n),this.convertToBase64(n)},e.prototype.convertToBase64=function(t){var e=this.settings.GAME_WIDTH/2,n=this.settings.GAME_HEIGHT/2;e=Math.floor(e),n=Math.floor(n);var o=document.createElement("canvas"),i=o.getContext("2d");o.width=e,o.height=n,console.log(o);for(var r=4*e,s=0;s<n;s++){for(var a=n-1-s,c=i.createImageData(e,1),u=a*e*4,p=0;p<r;p++)c.data[p]=t[u+p];i.putImageData(c,0,s)}var l=o.toDataURL("image/png");console.log(l),this.downloadImg(l)},e.prototype.downloadImg=function(t){var e=t.replace(/^data:image[^;]*/,"data:image/octet-stream");document.location.href=e},e.prototype.resize=function(){this.refreshRenderTexture()},r([p(cc.Camera)],e.prototype,"camera",void 0),r([p(cc.Sprite)],e.prototype,"renderTextureSprite",void 0),r([u],e)}(cc.Component);n.default=l,cc._RF.pop()},{"./Enums/Events":"Events","./Plugins/Settings":"Settings"}],Settings:[function(t,e,n){"use strict";cc._RF.push(e,"c06fdeJcv5NuLG0POEXCOfA","Settings");var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=(i.property,function(){function t(){this.default_width=0,this.default_height=0,this.game_width=0,this.game_height=0,this.scale=0,this.is_landscape=!1,this.half_width=0,this.half_heigth=0,this.world_width=0,this.world_height=0;var t=e.instance;if(void 0!==t)return t;e.instance=this,this.default_width=640,this.default_height=1136,this.game_width=640,this.game_height=1136,this.scale=1,this.is_landscape=!1,this.half_width=320,this.half_heigth=568,this.world_width=1366,this.world_height=1366}var e;return e=t,Object.defineProperty(t.prototype,"DEFAULT_WIDTH",{get:function(){return this.default_width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"DEFAULT_HEIGHT",{get:function(){return this.default_height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GAME_WIDTH",{get:function(){return this.game_width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"GAME_HEIGHT",{get:function(){return this.game_height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"IS_LANDSCAPE",{get:function(){return this.is_landscape},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"HALF_WIDTH",{get:function(){return this.half_width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"HALF_HEIGHT",{get:function(){return this.half_heigth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"WORLD_WIDTH",{get:function(){return this.world_width},set:function(t){this.world_width=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"WORLD_HEIGHT",{get:function(){return this.world_height},set:function(t){this.world_height=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"SCALE",{get:function(){return this.scale},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"WIN_SIZE",{get:function(){return cc.v2(this.GAME_WIDTH,this.GAME_HEIGHT)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"INV_WIN_SIZE",{get:function(){return cc.v2(1/this.GAME_WIDTH,1/this.GAME_HEIGHT)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"SIDE_RATIO",{get:function(){return Math.max(this.GAME_WIDTH,this.GAME_HEIGHT)/Math.min(this.GAME_WIDTH,this.GAME_HEIGHT)},enumerable:!1,configurable:!0}),t.prototype.updateSettings=function(){this.game_width=cc.winSize.width,this.game_height=cc.winSize.height,this.half_width=.5*this.GAME_WIDTH,this.half_heigth=.5*this.GAME_HEIGHT,this.is_landscape=this.GAME_WIDTH>this.GAME_HEIGHT,this.scale=this.calculateScale()},t.prototype.chooseDefaultHeight=function(){return this.IS_LANDSCAPE?this.DEFAULT_HEIGHT:this.DEFAULT_WIDTH},t.prototype.chooseDefaultWidth=function(){return this.IS_LANDSCAPE?this.DEFAULT_WIDTH:this.DEFAULT_HEIGHT},t.prototype.calculateScale=function(){var t=this.GAME_WIDTH/this.chooseDefaultWidth(),e=this.GAME_HEIGHT/this.chooseDefaultHeight();return Math.min(t,e)},t.instance=void 0,e=o([r("Settings")],t)}());n.default=s,cc._RF.pop()},{}],SimpleTransformComponent:[function(t,e,n){"use strict";cc._RF.push(e,"31cc1y4eJJM1Kgr8qXViEkR","SimpleTransformComponent");var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=i.property,a=function(){function t(){this._isActive=!1,this.configuration=null}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},set:function(t){this._isActive=t,this.reset(t)},enumerable:!1,configurable:!0}),t.prototype.disable=function(){this.isActive=!1},t.prototype.enable=function(){this.isActive=!0},t.prototype.getData=function(){var t=this.configuration?this.configuration.getData():null;return{isActive:this.isActive,config:t}},t.prototype.applyData=function(t){t&&(this.isActive=t.isActive,t.config&&this.configuration&&this.configuration.applyData(t.config))},o([s({visible:!1})],t.prototype,"_isActive",void 0),o([s()],t.prototype,"isActive",null),o([r("SimpleTransformComponent")],t)}();n.default=a,cc._RF.pop()},{}],SizeComponent:[function(t,e,n){"use strict";cc._RF.push(e,"e41cb7x+sRFnIMJaht+U8jZ","SizeComponent");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Base/SimpleTransformComponent"),a=cc._decorator,c=a.ccclass,u=a.property,p=function(){function t(){this.size=cc.size(1,1)}return t.prototype.applyTransform=function(t){t.width=this.size.width,t.height=this.size.height},t.prototype.getData=function(){return{size:this.size.clone()}},t.prototype.applyData=function(t){this.size=t.size},r([u(cc.Size)],t.prototype,"size",void 0),r([c("SizeConfiguration")],t)}(),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.configuration=null,e}return i(e,t),e.prototype.execute=function(t){this.configuration&&this.configuration.applyTransform(t)},e.prototype.reset=function(t){this.configuration=t?new p:null},r([u({type:p,serializable:!0,visible:function(){return this.isActive}})],e.prototype,"configuration",void 0),r([c("SizeComponent")],e)}(s.default);n.default=l,cc._RF.pop()},{"../Base/SimpleTransformComponent":"SimpleTransformComponent"}],Slider:[function(t,e,n){"use strict";cc._RF.push(e,"0326fWM+FpG0rVJ8Zr4eZLd","Slider");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s,a=t("../../Enums/Easing"),c=t("../../Enums/Events"),u=t("../../Plugins/Input/InputManager"),p=t("../../Plugins/Input/InputSources"),l=t("../../Plugins/Input/InputTypes"),h=t("./Element"),f=cc._decorator,d=f.ccclass,y=f.property;(function(t){t.ControlLeft="slider_control_left",t.ControlRight="slider_control_right",t.ShowSelectButton="slider_show_select_button",t.Hide="slider_hide"})(s||(s={}));var _=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.offset=200,e.moveEasing=a.default.linear,e.moveDuration=.7,e.moveDelay=.1,e.elementsHolder=null,e.movingTween=null,e.animation=null,e.isAnimationPlaying=!1,e.isFirstTap=!1,e}return i(e,t),e.prototype.onLoad=function(){u.default.getInstance().on(l.default.Down,this.onDown,this),this.node.setPosition(0,0),this.animation=this.node.getComponent(cc.Animation)},e.prototype.start=function(){this.init()},e.prototype.hide=function(){},e.prototype.init=function(){for(var t=0;t<this.elementsHolder.children.length;t++){var e=this.elementsHolder.children[t];t===this.elementsHolder.children.length-1?e.setPosition(-this.offset,0):e.setPosition(this.offset*t,0)}this.elementsHolder.children.unshift(this.elementsHolder.children.pop())},e.prototype.slideTo=function(t){var e=this,n=this.elementsHolder.position.addSelf(new cc.Vec3((t?-this.offset:this.offset)*this.elementsHolder.scaleX,0,0));this.movingTween=new cc.Tween(this.elementsHolder).to(this.moveDuration,{position:n},{easing:a.default[this.moveEasing]}).delay(this.moveDelay).call(function(){e.isAnimationPlaying=!1,t?(e.elementsHolder.children.push(e.elementsHolder.children.shift()),e.elementsHolder.children[e.elementsHolder.children.length-1].setPosition(e.elementsHolder.children[e.elementsHolder.children.length-2].getPosition().addSelf(new cc.Vec2(e.offset,0)))):(e.elementsHolder.children.unshift(e.elementsHolder.children.pop()),e.elementsHolder.children[0].setPosition(e.elementsHolder.children[1].getPosition().addSelf(new cc.Vec2(-e.offset,0))))}).start()},e.prototype.onDown=function(t){if(!this.isAnimationPlaying)switch(this.isFirstTap||(this.isFirstTap=!0,this.animation.playAdditive(s.ShowSelectButton)),t.touchSource){case p.default.SliderLeftButton:this.animation.playAdditive(s.ControlLeft),this.isAnimationPlaying=!0;break;case p.default.SliderRightButton:this.animation.playAdditive(s.ControlRight),this.isAnimationPlaying=!0;break;case p.default.SliderSelectButton:this.isAnimationPlaying=!0,this.animation.play(s.Hide),cc.systemEvent.emit(c.default.SHOW_TUTORIAL.toString())}},e.prototype.onAnimationEvents=function(t){switch(t){case"control_left_end":this.slideTo(!0);break;case"control_right_end":this.slideTo(!1);break;case"hide_end":var e=this.elementsHolder.children[1].getComponent(h.default);switch(cc.systemEvent.emit(c.default.SLIDER_SELECT.toString(),e.type),cc.systemEvent.emit(c.default.SHOW_TIMER.toString()),e.type){case h.SliderElementType.First:window.parent.postMessage("SelectedBanana","*");break;case h.SliderElementType.Second:window.parent.postMessage("SelectedPink","*");break;case h.SliderElementType.Third:window.parent.postMessage("SelectedBlue","*")}}},r([y()],e.prototype,"offset",void 0),r([y({type:cc.Enum(a.default)})],e.prototype,"moveEasing",void 0),r([y()],e.prototype,"moveDuration",void 0),r([y()],e.prototype,"moveDelay",void 0),r([y(cc.Node)],e.prototype,"elementsHolder",void 0),r([d],e)}(cc.Component);n.default=_,cc._RF.pop()},{"../../Enums/Easing":"Easing","../../Enums/Events":"Events","../../Plugins/Input/InputManager":"InputManager","../../Plugins/Input/InputSources":"InputSources","../../Plugins/Input/InputTypes":"InputTypes","./Element":"Element"}],Spherical:[function(t,e,n){"use strict";cc._RF.push(e,"40f8crbyC9MCaZlV9ch9dTQ","Spherical"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e,n){return void 0===t&&(t=1),void 0===e&&(e=0),void 0===n&&(n=0),this._radius=1,this._phi=0,this._theta=0,this.radius=t,this.phi=e,this.theta=n,this}return Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},set:function(t){this._radius=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"phi",{get:function(){return this._phi},set:function(t){this._phi=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"theta",{get:function(){return this._theta},set:function(t){this._theta=t},enumerable:!1,configurable:!0}),t.prototype.set=function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},t.prototype.copy=function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},t.prototype.setFromVector3=function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},t.prototype.setFromCartesianCoords=function(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(this.clamp(e/this.radius,-1,1))),this},t.prototype.clone=function(){return(new t).copy(this)},t.prototype.clamp=function(t,e,n){return Math.min(Math.max(t,e),n)},t}();n.default=o,cc._RF.pop()},{}],Timer:[function(t,e,n){"use strict";cc._RF.push(e,"992d1wOmy1IkJaO5NL212+B","Timer");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Enums/Events"),a=cc._decorator,c=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.duartion=15,e.line=null,e.fadeDuration=.2,e.lineTween=null,e.fadeTween=null,e}return i(e,t),e.prototype.onLoad=function(){this.node.opacity=0},e.prototype.start=function(){cc.systemEvent.on(s.default.SHOW_TIMER.toString(),this.show,this),cc.systemEvent.on(s.default.HIDE_TIMER.toString(),this.hide,this),cc.systemEvent.on(s.default.START_TIMER.toString(),this.startTimer,this),cc.systemEvent.on(s.default.STOP_TIMER.toString(),this.stopTimer,this)},e.prototype.hide=function(){this.fadeTween&&this.fadeTween.stop(),this.fadeTween=new cc.Tween(this.node).to(this.fadeDuration,{opacity:0}).start()},e.prototype.show=function(){this.fadeTween&&this.fadeTween.stop(),this.fadeTween=new cc.Tween(this.node).to(this.fadeDuration,{opacity:255}).start()},e.prototype.stopTimer=function(){this.lineTween&&this.lineTween.stop()},e.prototype.startTimer=function(){this.lineTween=new cc.Tween(this.line).to(this.duartion,{fillRange:0}).call(function(){cc.systemEvent.emit(s.default.RESULT.toString(),1)}).start()},r([u()],e.prototype,"duartion",void 0),r([u(cc.Sprite)],e.prototype,"line",void 0),r([u()],e.prototype,"fadeDuration",void 0),r([c],e)}(cc.Component);n.default=p,cc._RF.pop()},{"../Enums/Events":"Events"}],TransformComponent:[function(t,e,n){"use strict";cc._RF.push(e,"e52a9044wFPirYVk7hRJ6Sp","TransformComponent");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Settings"),a=t("../../Enums/Events"),c=t("./Accessories/TransformController"),u=cc._decorator,p=u.ccclass,l=u.property,h=u.menu,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.transformReference=null,e._isSameTransform=!0,e._isDependingOnSideRatio=!1,e.limitSideRatio=1.35,e.commonTransform=new c.default,e.commonTransformBelowSideRatio=new c.default,e.landscapeTransform=new c.default,e.landscapeTransformBelowSideRatio=new c.default,e.portraitTransform=new c.default,e.portraitTransformBelowSideRatio=new c.default,e.settings=new s.default,e}return i(e,t),Object.defineProperty(e.prototype,"isSameTransform",{get:function(){return this._isSameTransform},set:function(t){this._isSameTransform=t,this._isSameTransform?(this.commonTransform=this.landscapeTransform.clone(),this.landscapeTransform=null,this.portraitTransform=null):(this.landscapeTransform=this.commonTransform.clone(),this.portraitTransform=this.commonTransform.clone(),this.commonTransform=null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDependingOnSideRatio",{get:function(){return this._isDependingOnSideRatio},set:function(t){this._isDependingOnSideRatio=t,this.isDependingOnSideRatio?this.isSameTransform?this.commonTransformBelowSideRatio=this.commonTransform.clone():(this.portraitTransformBelowSideRatio=this.portraitTransform.clone(),this.landscapeTransformBelowSideRatio=this.landscapeTransform.clone()):(this.commonTransformBelowSideRatio=null,this.portraitTransformBelowSideRatio=null,this.landscapeTransformBelowSideRatio=null)},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.subscribeEvents(),this.commonTransform&&(this.commonTransform.transformReference=this.transformReference),this.commonTransformBelowSideRatio&&(this.commonTransformBelowSideRatio.transformReference=this.transformReference),this.landscapeTransform&&(this.landscapeTransform.transformReference=this.transformReference),this.landscapeTransformBelowSideRatio&&(this.landscapeTransformBelowSideRatio.transformReference=this.transformReference),this.portraitTransform&&(this.portraitTransform.transformReference=this.transformReference),this.portraitTransformBelowSideRatio&&(this.portraitTransformBelowSideRatio.transformReference=this.transformReference)},e.prototype.subscribeEvents=function(){cc.systemEvent.on(a.default.WINDOW_RESIZED.toString(),this.onSizeChanged,this)},e.prototype.getCurrentTransform=function(){var t=Math.max(this.settings.GAME_WIDTH,this.settings.GAME_HEIGHT)/Math.min(this.settings.GAME_WIDTH,this.settings.GAME_HEIGHT),e=this.isDependingOnSideRatio&&t<this.limitSideRatio;return this.isSameTransform?e?this.commonTransformBelowSideRatio:this.commonTransform:this.settings.IS_LANDSCAPE?e?this.landscapeTransformBelowSideRatio:this.landscapeTransform:e?this.portraitTransformBelowSideRatio:this.portraitTransform},e.prototype.onSizeChanged=function(){this.getCurrentTransform().setNodeTransform(this.node)},r([l(cc.Node)],e.prototype,"transformReference",void 0),r([l],e.prototype,"_isSameTransform",void 0),r([l],e.prototype,"isSameTransform",null),r([l],e.prototype,"_isDependingOnSideRatio",void 0),r([l],e.prototype,"isDependingOnSideRatio",null),r([l({visible:function(){return this.isDependingOnSideRatio}})],e.prototype,"limitSideRatio",void 0),r([l({type:c.default,visible:function(){return this.isSameTransform}})],e.prototype,"commonTransform",void 0),r([l({type:c.default,visible:function(){return this.isSameTransform&&this.isDependingOnSideRatio}})],e.prototype,"commonTransformBelowSideRatio",void 0),r([l({type:c.default,visible:function(){return!this.isSameTransform}})],e.prototype,"landscapeTransform",void 0),r([l({type:c.default,visible:function(){return!this.isSameTransform&&this.isDependingOnSideRatio}})],e.prototype,"landscapeTransformBelowSideRatio",void 0),r([l({type:c.default,visible:function(){return!this.isSameTransform}})],e.prototype,"portraitTransform",void 0),r([l({type:c.default,visible:function(){return!this.isSameTransform&&this.isDependingOnSideRatio}})],e.prototype,"portraitTransformBelowSideRatio",void 0),r([p,h("Transform/TransformComponent")],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../Enums/Events":"Events","../Settings":"Settings","./Accessories/TransformController":"TransformController"}],TransformController:[function(t,e,n){"use strict";cc._RF.push(e,"153c5/hx9dFobfHRVqfAtKR","TransformController");var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var i,r=t("./Components/AnchorComponent"),s=t("./Components/PositionComponent"),a=t("./Components/RotationComponent"),c=t("./Components/ScaleComponent"),u=t("./Components/SizeComponent");(function(t){t[t.Position=0]="Position",t[t.Scale=1]="Scale",t[t.Rotation=2]="Rotation",t[t.Anchor=4]="Anchor",t[t.Size=5]="Size",t[t.All=6]="All",t[t.Hide=7]="Hide"})(i||(i={}));var p=cc._decorator,l=p.ccclass,h=p.property,f=function(){function t(){this.changeValueType=i.Hide,this.positionComponent=new s.default,this.scaleComponent=new c.default,this.rotationComponent=new a.default,this.anchorComponent=new r.default,this.sizeComponent=new u.default,this._transformReference=null}var e;return e=t,Object.defineProperty(t.prototype,"transformReference",{get:function(){return this._transformReference},set:function(t){this._transformReference=t},enumerable:!1,configurable:!0}),t.prototype.setNodeTransform=function(t){this.rotationComponent.execute(t,this.transformReference),this.positionComponent.execute(t,this.transformReference),this.sizeComponent.execute(t,this.transformReference),this.anchorComponent.execute(t,this.transformReference),this.scaleComponent.execute(t,this.transformReference)},t.prototype.clone=function(){var t=new e;return t.rotationComponent.applyData(this.rotationComponent.getData()),t.positionComponent.applyData(this.positionComponent.getData()),t.sizeComponent.applyData(this.sizeComponent.getData()),t.anchorComponent.applyData(this.anchorComponent.getData()),t.scaleComponent.applyData(this.scaleComponent.getData()),t.changeValueType=this.changeValueType,t.transformReference=this.transformReference,t},t.prototype.isPreferredTypeSelected=function(t){return this.changeValueType===t||this.changeValueType===i.All},o([h({type:cc.Enum(i)})],t.prototype,"changeValueType",void 0),o([h({type:s.default,visible:function(){return this.isPreferredTypeSelected(i.Position)}})],t.prototype,"positionComponent",void 0),o([h({type:c.default,visible:function(){return this.isPreferredTypeSelected(i.Scale)}})],t.prototype,"scaleComponent",void 0),o([h({type:a.default,visible:function(){return this.isPreferredTypeSelected(i.Rotation)}})],t.prototype,"rotationComponent",void 0),o([h({type:r.default,visible:function(){return this.isPreferredTypeSelected(i.Anchor)}})],t.prototype,"anchorComponent",void 0),o([h({type:u.default,visible:function(){return this.isPreferredTypeSelected(i.Size)}})],t.prototype,"sizeComponent",void 0),e=o([l("TransformController")],t)}();n.default=f,cc._RF.pop()},{"./Components/AnchorComponent":"AnchorComponent","./Components/PositionComponent":"PositionComponent","./Components/RotationComponent":"RotationComponent","./Components/ScaleComponent":"ScaleComponent","./Components/SizeComponent":"SizeComponent"}],Tutorial:[function(t,e,n){"use strict";cc._RF.push(e,"328572x+65Aeok+uRs2YhwN","Tutorial");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Enums/Events"),a=cc._decorator,c=a.ccclass,u=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animation=null,e}return i(e,t),e.prototype.start=function(){this.animation=this.node.getComponent(cc.Animation),cc.systemEvent.on(s.default.SHOW_TUTORIAL.toString(),this.onShowTutorial,this),cc.systemEvent.on(s.default.HIDE_TUTORIAL.toString(),this.onHideTutorial,this)},e.prototype.onShowTutorial=function(t){void 0===t&&(t=0),this.animation.play("tutorial_show")},e.prototype.onHideTutorial=function(){this.animation.play("tutorial_hide")},r([c],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../Enums/Events":"Events"}],TweenHelper:[function(t,e,n){"use strict";cc._RF.push(e,"05030XLyi9GiKFph5myrLwS","TweenHelper");var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var i=t("./EasingType"),r=t("./Tween"),s=t("../Settings"),a=cc._decorator.ccclass,c=function(){function t(){return this._director=null,this._tweens=[],this._settings=null,e.instance?e.instance:(e.instance=this,this._director=cc.director,cc.director.on(cc.Director.EVENT_BEFORE_UPDATE,this._update,this),this._settings=new s.default,e.instance)}var e;return e=t,t.prototype.add=function(t,e,n,o,s,a,c,u,p){void 0===n&&(n=1),void 0===o&&(o=i.default.linear),void 0===s&&(s=!0),void 0===a&&(a=0),void 0===c&&(c=null),void 0===u&&(u=null),void 0===p&&(p=null);var l=new r.default(this);return l.create(t,e,n,o,s,a,c,u,p),s&&0===a&&l.start(),this.addTween(l),l},t.prototype.fadeIn=function(t,e,n,o){return void 0===e&&(e=.5),void 0===n&&(n=null),void 0===o&&(o=255),this._fade(t,e,n,o)},t.prototype.fadeOut=function(t,e,n,o){return void 0===e&&(e=.5),void 0===n&&(n=null),void 0===o&&(o=0),this._fade(t,e,n,o)},t.prototype.addTween=function(t){-1===this._tweens.indexOf(t)&&this._tweens.push(t)},t.prototype.deleteTween=function(t,e){void 0===e&&(e=null);var n=this._tweens.indexOf(t);-1!==n&&(this._tweens.splice(n,1),null!==e&&e())},t.prototype._fade=function(t,e,n,o){var i=this.add(t,{opacity:o},e);return n&&(i.onComplete=n),i},t.prototype._update=function(){var t=this._director.getDeltaTime();if(null!==this._tweens)for(var e in this._tweens)null!==this._tweens[e]&&this._tweens[e].update(t)},t.instance=null,e=o([a()],t)}();n.default=c,new c,cc._RF.pop()},{"../Settings":"Settings","./EasingType":"EasingType","./Tween":"Tween"}],Tween:[function(t,e,n){"use strict";cc._RF.push(e,"e8cef0lyitEkoINAHaPV7V2","Tween"),Object.defineProperty(n,"__esModule",{value:!0}),n.TweenPlayMode=void 0;var o,i,r=t("./EasingType");(function(t){t[t.None=1]="None",t[t.Loop=2]="Loop",t[t.Reverse=3]="Reverse",t[t.ReverseLoop=4]="ReverseLoop",t[t.PingPong=5]="PingPong",t[t.YoYo=6]="YoYo",t[t.YoYoReverse=7]="YoYoReverse",t[t.PingPongReverse=8]="PingPongReverse",t[t.LoopReverse=9]="LoopReverse"})(o=n.TweenPlayMode||(n.TweenPlayMode={})),function(t){t[t.Number=1]="Number",t[t.Array=2]="Array",t[t.Curve=3]="Curve"}(i||(i={}));var s=function(){function t(t){this._manager=null,this._states={isLoop:!1,isYoyo:!1,isReverse:!1,isPingPong:!1},this._customInterpolationData={isActive:!1,interpolation:0},this._isActive=!1,this._isPaused=!1,this._timeScale=1,this._reverseCoef=1,this._isWaitingForDelay=!1,this._delayTimer=0,this._yoyoCounter=0,this._info={},this._callbacks={startCallback:null,updateCallback:null,completeCallback:null},this._chainedTween=null,this._manager=t}return Object.defineProperty(t.prototype,"timeScale",{get:function(){return this._timeScale},set:function(t){this._timeScale=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoop",{get:function(){return this._states.isLoop},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isReverse",{get:function(){return this._states.isReverse},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isYoyo",{get:function(){return this._states.isYoyo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPingPong",{get:function(){return this._states.isPingPong},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"duration",{get:function(){return this._info.commonDuration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"interpolationCoefficient",{get:function(){return this._info.commonInterpol},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onComplete",{set:function(t){this._callbacks.completeCallback=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onUpdate",{set:function(t){this._callbacks.updateCallback=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onStart",{set:function(t){this._callbacks.startCallback=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"customInterpolation",{set:function(t){this._customInterpolationData.isActive&&(this._customInterpolationData.interpolation=t)},enumerable:!1,configurable:!0}),t.prototype.start=function(){return this._isActive||(0===this._info.delay?this._activate():(this._isWaitingForDelay=!0,this._delayTimer=0)),this._manager.addTween(this),this},t.prototype.stop=function(t){return void 0===t&&(t=!1),this._isActive=!1,this._manager.deleteTween(this,t?this._callbacks.completeCallback:null),this},t.prototype.pause=function(){return this._isActive=!1,this._isPaused=!0,this},t.prototype.continue=function(){return this._isActive=!0,this._isPaused=!1,this},t.prototype.setCustomInterpolation=function(t){return this._customInterpolationData.isActive=t,this._customInterpolationData.interpolation=0,this},t.prototype.setPlayMode=function(t){switch(t){case o.Loop:this.loop();break;case o.LoopReverse:this.reverseLoop();break;case o.None:this.unloop(),this.unreverse(),this.unyoyo(),this.unpingPong();break;case o.PingPong:this.pingPong();break;case o.PingPongReverse:this.pingPongReverse();break;case o.Reverse:this.reverse();break;case o.YoYo:this.yoyo();break;case o.YoYoReverse:this.yoyoReverse();break;case o.ReverseLoop:this.reverseLoop()}return this},t.prototype.loop=function(){return this._updateStates("isLoop"),this},t.prototype.unloop=function(){return this._states.isLoop=!1,this},t.prototype.reverse=function(t){for(var e in void 0===t&&(t=!1),t?this._states.isReverse=!0:this._updateStates("isReverse"),this._reverseCoef*=-1,this._info.properties)this._reverseProperty(this._info.properties[e]);return this},t.prototype.unreverse=function(){if(this._states.isReverse)for(var t in this._states.isReverse=!1,this._info.properties)this._reverseProperty(this._info.properties[t]);return this},t.prototype.yoyo=function(){return this._states.isYoyo?this:(this._updateStates("isYoyo"),this._states.isYoyo=!0,this._yoyoCounter=0,this)},t.prototype.unyoyo=function(){if(this._states.isYoyo&&(this._states.isYoyo=!1,this._yoyoCounter=0,-1===this._reverseCoef))for(var t in this._info.properties)this._reverseProperty(this._info.properties[t]);return this},t.prototype.pingPong=function(){return this._updateStates("isPingPong"),this},t.prototype.pingPongReverse=function(){return this.reverse(!0),this.pingPong(),this},t.prototype.unpingPong=function(){if(this._states.isPingPong&&(this._states.isPingPong=!1,-1===this._reverseCoef))for(var t in this._info.properties)this._reverseProperty(this._info.properties[t]);return this},t.prototype.reverseLoop=function(){return this.reverse(!0),this.loop(),this},t.prototype.yoyoReverse=function(){return this.reverse(!0),this.yoyo(),this},t.prototype.create=function(t,e,n,o,r,s,a,c,u){for(var p in this._info.target=t,this._info.delay=s,this._delayTimer=0,this._info.commonDuration=n,this._info.commonInterpol=0,this._info.properties=[],this._info.initialProperies={},this._info.finishProperies={},this._info.easing=this._getEasingFunction(o),this._info.durations={},this._info.interpols={},this._info.iterators={},this._info.valueTypes={},e){var l=e[p];if(this._info.properties.push(p),this._info.initialProperies[p]=this._info.target[p],this._info.finishProperies[p]=l,0===l.length||void 0===l.length)this._info.valueTypes[p]=i.Number,this._info.durations[p]=n,this._info.iterators[p]=null;else{if(l[0]instanceof cc.Vec2){this._addFirstAndLastFrames(this._info,p),this._info.durations[p]=[],this._info.valueTypes[p]=i.Curve;for(var h=1;h<l.length;h++)this._info.durations[p].push((l[h].y-l[h-1].y)*this._info.commonDuration)}else this._info.durations[p]=n/l.length,this._info.valueTypes[p]=i.Array;this._info.iterators[p]=0}this._info.interpols[p]=0}return this._callbacks.startCallback=a,this._callbacks.completeCallback=c,this._callbacks.updateCallback=u,this._isActive=!1,0!==this._info.delay&&r&&(this._isWaitingForDelay=!0),this},t.prototype.update=function(t){this._isActive?(t*=this.timeScale,this._customInterpolationData.isActive?(t=this._customInterpolationData.interpolation-this._info.commonInterpol,this._info.commonInterpol=t>.1?this._customInterpolationData.interpolation:this._info.commonInterpol+=Math.abs(t)):this._info.commonInterpol+=Math.abs(t),this._info.commonInterpol>this._info.commonDuration?(this._updateProperties(t,!0),this._states.isLoop?this._restart():this._states.isYoyo&&0===this._yoyoCounter?(this._yoyoCounter++,this.reverse(!0),this._restart()):this._states.isPingPong?(this.reverse(!0),this._restart()):(this.stop(!0),this._chainedTween&&this._chainedTween.start())):(this._updateProperties(t),"function"==typeof this._callbacks.updateCallback&&this._callbacks.updateCallback())):this._isWaitingForDelay&&(this._delayTimer+=t,this._delayTimer>=this._info.delay&&this._activate())},t.prototype.chain=function(t){return this._chainedTween=t,t},t.prototype._getEasingFunction=function(t){switch(t){case r.default.quadIn:return function(t,e){return(t/=e)*t};case r.default.quadOut:return function(t,e){return(t/=e)*(2-t)};case r.default.quadInOut:return function(t,e){return(t/=.5*e)<1?.5*t*t:-.5*(--t*(t-2)-1)};case r.default.cubicIn:return function(t,e){return(t/=e)*t*t};case r.default.cubicOut:return function(t,e){return t/=e,--t*t*t+1};case r.default.cubicInOut:return function(t,e){return(t/=.5*e)<1?.5*t*t*t:.5*((t-=2)*t*t+2)};case r.default.quartIn:return function(t,e){return(t/=e)*t*t*t};case r.default.quartOut:return function(t,e){return t/=e,-1*(--t*t*t*t-1)};case r.default.quartInOut:return function(t,e){return(t/=.5*e)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)};case r.default.quintIn:return function(t,e){return(t/=e)*t*t*t*t};case r.default.quintOut:return function(t,e){return t/=e,--t*t*t*t*t+1};case r.default.quintInOut:return function(t,e){return(t/=.5*e)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)};case r.default.sineIn:return function(t,e){return t/=e,1+Math.sin(.5*Math.PI*t-.5*Math.PI)};case r.default.sineOut:return function(t,e){return t/=e,Math.sin(.5*Math.PI*t)};case r.default.sineInOut:return function(t,e){return t/=e,.5*(1+Math.sin(Math.PI*t-.5*Math.PI))};case r.default.expoIn:return function(t,e){return t/=e,Math.pow(2,10*(t-1))};case r.default.expoOut:return function(t,e){return t/=e,1-Math.pow(2,-10*t)};case r.default.expoInOut:return function(t,e){return(t/=.5*e)<1?.5*Math.pow(2,10*(t-1)):(t--,.5*(2-Math.pow(2,-10*t)))};case r.default.circIn:return function(t,e){return t/=e,-1*(Math.sqrt(1-t*t)-1)};case r.default.circOut:return function(t,e){return t/=e,t--,Math.sqrt(1-t*t)};case r.default.circInOut:return function(t,e){return(t/=.5*e)<1?-.5*(Math.sqrt(1-t*t)-1):(t-=2,.5*(Math.sqrt(1-t*t)+1))};case r.default.elasticIn:return function(t,e){var n,o=.1;return 0==(t/=e)?0:1===t?1:(!o||o<1?(o=1,n=.1):n=.4*Math.asin(1/o)/(2*Math.PI),-o*Math.pow(2,10*(t-=1))*Math.sin(2*(t-n)*Math.PI/.4))};case r.default.elasticOut:return function(t,e){var n,o=.1;return 0==(t/=e)?0:1===t?1:(!o||o<1?(o=1,n=.1):n=.4*Math.asin(1/o)/(2*Math.PI),o*Math.pow(2,-10*t)*Math.sin(2*(t-n)*Math.PI/.4)+1)};case r.default.elasticInOut:return function(t,e){var n,o=.1;return 0==(t/=e)?0:1===t?1:(!o||o<1?(o=1,n=.1):n=.4*Math.asin(1/o)/(2*Math.PI),(t*=2)<1?o*Math.pow(2,10*(t-=1))*Math.sin(2*(t-n)*Math.PI/.4)*-.5:o*Math.pow(2,-10*(t-=1))*Math.sin(2*(t-n)*Math.PI/.4)*.5+1)};case r.default.backIn:return function(t,e){var n=1.70158;return(t/=e)*t*((n+1)*t-n)};case r.default.backOut:return function(t,e){var n=1.70158;return t/=e,--t*t*((n+1)*t+n)+1};case r.default.backInOut:return function(t,e){var n=2.5949095;return t/=e,(t*=2)<1?t*t*((n+1)*t-n)*.5:.5*((t-=2)*t*((n+1)*t+n)+2)};case r.default.bounceIn:return function(t,e){return(t=1-(t/=e))<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)};case r.default.bounceOut:return function(t,e){return(t/=e)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375};case r.default.bounceInOut:return function(t,e){return(t/=e)<.5?(t=1-(t*=2))<1/2.75?.5*(1-7.5625*t*t):t<2/2.75?.5*(1-(7.5625*(t-=1.5/2.75)*t+.75)):t<2.5/2.75?.5*(1-(7.5625*(t-=2.25/2.75)*t+.9375)):.5*(1-(7.5625*(t-=2.625/2.75)*t+.984375)):(t=2*t-1)<1/2.75?7.5625*t*t*.5+.5:t<2/2.75?.5*(7.5625*(t-=1.5/2.75)*t+.75)+.5:t<2.5/2.75?.5*(7.5625*(t-=2.25/2.75)*t+.9375)+.5:.5*(7.5625*(t-=2.625/2.75)*t+.984375)+.5};case r.default.smooth:return function(t,e){return(t/=e)<=0?0:t>=1?1:t*t*(3-2*t)};case r.default.fade:return function(t,e){return(t/=e)<=0?0:t>=1?1:t*t*t*(t*(6*t-15)+10)};default:return function(t,e){return t/e}}},t.prototype._addFirstAndLastFrames=function(t,e,n){void 0===n&&(n=null);var o=t.finishProperies[e];0!==o[0].y&&o.unshift(cc.v2(null===n?t.initialProperies[e]:n,0)),1!==o[o.length-1].y&&o.push(cc.v2(o[o.length-1].x,1)),t.target[e]=o[0].x,t.initialProperies[e]=o[0].x},t.prototype._activate=function(){if(this._info.target&&!(this._info.target instanceof cc.Node)||this._info.target instanceof cc.Node&&this._info.target.isValid)for(var t in this._callbacks.startCallback&&this._callbacks.startCallback(),this._isActive=!0,this._info.commonInterpol=0,this._info.finishProperies)switch(this._info.valueTypes[t]){case i.Number:this._info.iterators[t]=null,this._info.interpols[t]=0;break;case i.Array:this._info.initialProperies[t]=this._info.target[t],this._info.iterators[t]=0,this._info.interpols[t]=0;break;case i.Curve:this._info.target[t]=this._info.finishProperies[t][0].x,this._info.initialProperies[t]=this._info.finishProperies[t][0].x,this._info.iterators[t]=0,this._info.interpols[t]=0}return this},t.prototype._restart=function(t){for(var e in void 0===t&&(t=!0),t&&this._callbacks.completeCallback&&this._callbacks.completeCallback(),this._info.commonInterpol=0,this._info.properties){var n=this._info.properties[e];this._info.iterators[n]=null===this._info.iterators[n]?null:0,this._info.interpols[n]=this._timeScale<0?this._info.durations[n]:0}return this._isActive=!1,0!==this._info.delay?(this._isWaitingForDelay=!0,this._delayTimer=0):this._activate(),this},t.prototype._updateProperties=function(t,e){if(void 0===e&&(e=!1),!(this._info.target instanceof cc.Node)||this._info.target.isValid)for(var n in this._info.properties){var o=this._info.properties[n];switch(this._info.valueTypes[o]){case i.Number:var r=this._info.initialProperies[o],s=this._info.finishProperies[o],a=e?1:this._info.easing(this._info.interpols[o],this._info.durations[o]);this._info.interpols[o]+=t,this._info.target[o]=r+(s-r)*a;break;case i.Array:if(this._info.iterators[o]<this._info.finishProperies[o].length){this._info.interpols[o]+=t;var c=0===this._info.iterators[o]?this._info.initialProperies[o]:this._info.finishProperies[o][this._info.iterators[o]-1];this._info.target[o]=c+(this._info.finishProperies[o][this._info.iterators[o]]-c)*(e?1:this._info.easing(this._info.interpols[o],this._info.durations[o])),this._info.interpols[o]>this._info.durations[o]&&(this._info.iterators[o]++,this._info.interpols[o]=0)}break;case i.Curve:if(this._info.iterators[o]<this._info.finishProperies[o].length&&this._info.finishProperies[o]){this._info.interpols[o]+=t;var u=this._info.iterators[o];if(this._info.finishProperies[o][u+1]){c=this._info.finishProperies[o][u].x;var p=this._info.finishProperies[o][u+1].x,l=this._info.durations[o][u];this._info.target[o]=c+(p-c)*(e?1:this._info.easing(this._info.interpols[o],l)),this._info.interpols[o]>l&&(this._info.iterators[o]++,this._info.interpols[o]=0)}}}}},t.prototype._updateStates=function(t){for(var e in this._states)this._states[e]=!1;this._states[t]=!0},t.prototype._reverseProperty=function(t){switch(this._info.valueTypes[t]){case i.Number:var e=this._info.finishProperies[t];this._info.finishProperies[t]=this._info.initialProperies[t],this._info.initialProperies[t]=e;break;case i.Array:var n=[];for(var o in n.push(this._info.initialProperies[t]),this._info.finishProperies[t])n.push(this._info.finishProperies[t][o]);for(n=n.reverse(),this._info.initialProperies[t]=n[0],this._info.finishProperies[t]=[],o=1;o<n.length;o++)this._info.finishProperies[t].push(n[o]);break;case i.Curve:this._info.initialProperies[t]=this._info.finishProperies[t][0];for(var r=[].concat(this._info.finishProperies[t]),s=0,a=r;s<a.length;s++){var c=a[s];c.y=1-c.y}r.reverse(),this._info.finishProperies[t]=r}},t}();n.default=s,cc._RF.pop()},{"./EasingType":"EasingType"}],Utilities:[function(t,e,n){"use strict";cc._RF.push(e,"3fc8cyNHQ5Kyrr/O8WhujHw","Utilities"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./Tween/TweenHelper"),i=function(){function t(){}return t.traverse=function(t,e){var n=this;t.children.forEach(function(t){e(t),n.traverse(t,e)})},t.isEquals=function(t,e,n){return void 0===n&&(n=Number.EPSILON),Math.abs(t-e)<n},t.randomItem=function(t){return t[Math.floor(Math.random()*t.length)]},t.isUndefinedOrNull=function(t){return null==t},t.removeTween=function(t){return t&&(t.stop(),o.default.instance.deleteTween(t)),null},t.getRandomInt=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t},t.getRandomFloat=function(t,e){return Math.random()*(e-t+1)+t},t.getRandomVec2=function(t,e){return cc.v2(this.getRandomFloat(t.x,e.x),this.getRandomFloat(t.y,e.y))},t.roundVec2=function(t,e){void 0===e&&(e=0);var n=Math.pow(10,e);t.x=Math.round(t.x*n)/n,t.y=Math.round(t.y*n)/n},t.clamp=function(t,e,n){return Math.min(Math.max(t,e),n)},t.toString=function(t){return""+t},t.getRandomElementFromArray=function(t){return t[this.getRandomInt(0,t.length)]},t.getType=function(t){return t?t.__proto__.constructor.name:t},t.setParentSafely=function(t,e){var n=new cc.Mat4,o=new cc.Mat4;t.getWorldMatrix(n),e.getWorldMatrix(o);var i=n.getScale(),r=o.getScale().scale(t.getScale(cc.v2())),s=n.getTranslation();t.position=e.convertToNodeSpaceAR(s),t.scaleX*=i.x/r.x,t.scaleY*=i.y/r.y,t.angle=this.getWorldAngle(t)-this.getWorldAngle(e),t.setParent(e)},t.getWorldAngle=function(t){for(var e=t.angle,n=t.parent;n;)e+=n.angle,n=n.parent;return e},t.getWorldScale=function(t){for(var e=t.getScale(cc.v3()),n=t.parent;n;)e=e.multiply(n.getScale(cc.v3())),n=n.parent;return e},t.moveTowards=function(t,e,n){var o=e.sub(t).normalize().mul(n);return t.x<e.x?(t.x+o.x>e.x&&(o.x=e.x-t.x),t.y+o.y>e.y&&(o.y=e.y-t.y)):(t.x+o.x<e.x&&(o.x=e.x-t.x),t.y+o.y<e.y&&(o.y=e.y-t.y)),t.add(o)},t.moveTowards3=function(t,e,n){var o=e.sub(t).normalize().mul(n);return t.x<e.x?(t.x+o.x>e.x&&(o.x=e.x-t.x),t.y+o.y>e.y&&(o.y=e.y-t.y),t.z+o.z>e.z&&(o.z=e.z-t.z)):(t.x+o.x<e.x&&(o.x=e.x-t.x),t.y+o.y<e.y&&(o.y=e.y-t.y),t.z+o.z<e.z&&(o.z=e.z-t.z)),t.add(o)},t.speedLerp=function(t,e,n,o,i){void 0===i&&(i=!1);var r=t,s=o*n;return r>e?(r-=s,i&&r<e&&(r=e)):(r+=s,i&&r>e&&(r=e)),r},t.compareToFloatsWithPrecision=function(t,e,n){return void 0===n&&(n=100),Math.round(t*n)/n==Math.round(e*n)/n},t.createMesh=function(t,e){for(var n=cc.gfx,o=new n.VertexFormat([{name:n.ATTR_POSITION,type:n.ATTR_TYPE_FLOAT32,num:3},{name:n.ATTR_NORMAL,type:n.ATTR_TYPE_FLOAT32,num:3},{name:n.ATTR_COLOR,type:n.ATTR_TYPE_UINT8,num:4,normalize:!0}]),i=[],r=0;r<t.positions.length;r++)i.push(e);var s=new cc.Mesh;return s.init(o,t.positions.length),s.setVertices(n.ATTR_POSITION,t.positions),s.setVertices(n.ATTR_NORMAL,t.normals),s.setVertices(n.ATTR_COLOR,i),s.setIndices(t.indices),s.setBoundingBox(t.minPos,t.maxPos),s},t}();n.default=i,cc._RF.pop()},{"./Tween/TweenHelper":"TweenHelper"}],VisibilityComponent:[function(t,e,n){"use strict";cc._RF.push(e,"02ee6M/bFNF3puvuFs35koF","VisibilityComponent");var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),r=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(n,"__esModule",{value:!0});var s=t("../Base/SimpleTransformComponent"),a=cc._decorator,c=a.ccclass,u=a.property,p=function(){function t(){this.opacity=255,this.color=cc.color(255,255,255,255)}return t.prototype.applyTransform=function(t){t.opacity=this.opacity,t.color=this.color},t.prototype.getData=function(){return{opacity:this.opacity,color:this.color.clone()}},t.prototype.applyData=function(t){this.opacity=t.opacity,this.color=t.color},r([u(cc.Float)],t.prototype,"opacity",void 0),r([u(cc.Color)],t.prototype,"color",void 0),r([c("VisibilityConfiguration")],t)}(),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.configuration=null,e}return i(e,t),e.prototype.execute=function(t,e){this.configuration&&this.configuration.applyTransform(t,e)},e.prototype.reset=function(t){this.configuration=t?new p:null},r([u({type:p,serializable:!0,visible:function(){return this.isActive}})],e.prototype,"configuration",void 0),r([c("VisibilityComponent")],e)}(s.default);n.default=l,cc._RF.pop()},{"../Base/SimpleTransformComponent":"SimpleTransformComponent"}]},{},["Easing","Events","AnimationSequence","GameManager","PuzzleController","PuzzleManager","PuzzlePart","PuzzlePartsHolder","Analytics","AudioClipCustom","AudioClipInfo","AudioClips","AudioManager","CameraBoxController","InputCatcher","InputManager","InputManagerData","InputSources","InputTypes","Euler","Spherical","Preferences","Settings","IConfiguration","SimpleTransformComponent","AnchorComponent","PositionComponent","RotationComponent","ScaleComponent","SizeComponent","VisibilityComponent","TransformController","TransformComponent","EasingType","Tween","TweenHelper","Utilities","ScrenShoot","ActionOnEvent","Counter","Result","Element","Slider","Timer","Tutorial"]);